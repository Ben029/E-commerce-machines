(this.$WP=this.$WP||[]).push(["elqEsp",(e,l)=>{"use strict";var t,n,i,a,u,r,o,d,s,m,c,h,v,g,w,I,f,b,S=({locationId:e,albumId:l,client:g,dataStrategy:S,configuration:E,numItemsInRow:y,numRows:R,getSSISContainerDimensions:C,getAlbumPaneDimensions:P,showAlbumPane:A,showCta:O,overlay:p,hideIndicatorDots:M,actionHandler:H,onHeroClick:T,onThumbnailClick:W,Wrapper:D,noContent:L,thinGeoContent:_,children:k})=>{var B,G,N,F,x,Y,$,z,K,Q,X,q,U=n.useRef(null),{viewportCategory:J}=n.useContext(a),V=w(),Z=g||V,j=S||"a",ee=l||I.ALL_PHOTOS_ALBUM,le=n.useMemo(()=>({locationId:e,albumId:ee,client:Z,dataStrategy:j,filter:b,offset:0,limit:20}),[e,ee,Z,j]),[te,ne]=c({query:h,variables:le,pause:!0}),ie={locationId:e,configuration:E,client:Z,filter:b,photos360Enabled:!0},[ae]=i({query:v,variables:ie}),{fetching:ue,data:re,error:oe}=ae,de=r(Z,j,e);n.useEffect(()=>{ue||oe||!re||((e,l)=>{var t,n="",i=null==e||null==(t=e.mediaAlbum)?void 0:t.album;if(i)if(200!==e.mediaAlbum.status)n=d;else if(0===i.totalMediaCount)n=o;else{var a;n=(null==(a=i.mediaList)?void 0:a[0])?m:s}else n=o;l(n)})(re,de)},[ue,oe,re,de]);var se=(null==re||null==(B=re.mediaWindow)||null==(G=B.windowPanes)||null==(N=G[0])||null==(F=N.albums)||null==(x=F[0])?void 0:x.totalMediaCount)||0,me=null==re||null==(Y=re.mediaWindow)||null==($=Y.windowPanes)||null==(z=$[0])||null==(K=z.albums)?void 0:K[0],ce=null==me?void 0:me.mediaList,he=(null==me?void 0:me.albumId)===I.THIN_GEO_PHOTO_ALBUM;if(!ue&&0===se&&L)return L;var ve=null==re||null==(Q=re.mediaWindow)||null==(X=Q.windowPanes)||null==(q=X[1])?void 0:q.albums,ge=A&&ve&&ve.map(e=>{var l,t,i,a,r;return{albumId:null==e?void 0:e.albumId,title:null==e?void 0:e.name,count:null==e?void 0:e.totalMediaCount,thumbnail:(t=null==e||null==(l=e.mediaList)?void 0:l[0],i=P(J),a=null==t?void 0:t.photoSizes,r=a&&u(i.clientWidth,i.clientHeight,a,{getImageBasedOnClientInfo:!0,allowedStretch:0}),r?n.createElement(n.Fragment,null,n.createElement("div",{className:"_39RSYxGX",style:{backgroundImage:`url(${r.url})`}})):n.createElement("div",null))}}),we=e=>{var l,t,n;if(ue)return null;if(ce&&ce[e])return ce[e];var i,a,u=(i=e,a=Math.floor(i/20),(null==te?void 0:te[a])?null==te?void 0:te[a]:(ne({offset:20*a+1,limit:20}),{fetching:!0,data:null}));return(null==u?void 0:u.fetching)?null:null==u||null==(l=u.data)||null==(t=l.mediaAlbumPage)||null==(n=t.mediaList)?void 0:n[e%20]},Ie=n.createElement(n.Fragment,null,n.createElement(t,{key:e,itemRenderer:e=>{var l=we(e);return l?(e=>{var l=C(J),t=U.current?{w:U.current.clientWidth,h:U.current.clientHeight}:{w:l.clientWidth,h:l.clientHeight},i=e.photoSizes,a=i&&u(t.w,t.h,i,{getImageBasedOnClientInfo:!0,allowedStretch:0});return a?n.createElement(n.Fragment,null,n.createElement("div",{className:"_39RSYxGX",style:{backgroundImage:`url(${a.url})`},onClick:()=>{T&&e.mediaId&&e.type&&!he&&T({id:e.mediaId,type:f(e.type)})}})):n.createElement("div",null)})(l):null},thumbnailRenderer:e=>{var l=we(e);return l?(e=>{var l=e.photoSizes,t=l&&u(60,50,l,{getImageBasedOnClientInfo:!0,allowedStretch:0});return t?n.createElement(n.Fragment,null,n.createElement("div",{className:"_39RSYxGX",style:{backgroundImage:`url(${t.url})`},onClick:()=>{W&&W(e.mediaId)}})):n.createElement("div",null)})(l):null},totalCount:se,alwaysShowArrows:!0,hideIndicatorDots:M,wrap:!1,showCta:!he&&O,overlay:he?"thinGeoMessaging":p,numItemsInRow:y,numRows:Number(R),setCarouselRef:e=>{U.current=e},albums:ge||void 0,actionHandler:H},k),he&&_);return D?n.createElement(D,null,Ie):Ie},E=e=>{switch(e){case"MOBILE":return{clientWidth:415,clientHeight:200};case"TABLET":case"DESKTOP":default:return{clientWidth:620,clientHeight:380}}},y=e=>{switch(e){case"MOBILE":return{clientWidth:0,clientHeight:0};case"TABLET":return{clientWidth:360,clientHeight:130};case"DESKTOP":default:return{clientWidth:180,clientHeight:260}}};return[()=>{b=g(),S.defaultProps={configuration:"mm",numItemsInRow:10,numRows:2,getSSISContainerDimensions:E,getAlbumPaneDimensions:y,overlay:"visible",hideIndicatorDots:!0},e("default",S)},[l=>{t=l.MediaWindow,e("mwActions",l.mwActions)},e=>n=e,e=>i=e.useQuery,e=>a=e.Device,e=>u=e.getSource,e=>(r=e.useMediaTracking,o=e.NO_PHOTO,d=e.ERROR_MSG,s=e.PRIMARY_MISSING,m=e.PRIMARY_OK),e=>(c=e.usePaginatedQuery,h=e.windowPageQuery,v=e.windowQuery),e=>(g=e.getMediaFilterToRetrieveAllPhotos,w=e.useClientName,I=e.AlbumTypes,f=e.validateMediaType)]]},["hDoeAJ","cDcdfi","5X2em-","2R4xv2","KwOV1Z","zdk9wF","n4rOEs","wc54S1"]]);
