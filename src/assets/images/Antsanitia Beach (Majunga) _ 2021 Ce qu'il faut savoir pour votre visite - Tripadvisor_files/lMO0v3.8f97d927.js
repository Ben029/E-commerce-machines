(this.$WP=this.$WP||[]).push(["lMO0v3",(e,n)=>{"use strict";var i,t,o,r,a,s,c,u,d,l,v,f,p;function h(e){var[n,i]=t(!1);return o(()=>{var n=k(e,()=>i(!0));return()=>n()},[e]),n}var m={expires:365},g={ADVERTISING:"advertising",ANALYTICS:"analytics & customisation",ALL:"all",ESSENTIAL:"essential"},C={advertising:"ADV","analytics & customisation":"ANA",all:"ALL"};function b(e,n){var i=e.findIndex(e=>e===n);e.splice(i,1)}var w={id:1402,test:!1},E=["//c.evidon.com/sitenotice/evidon-sitenotice-tag.js","//c.evidon.com/geo/country.js","//c.evidon.com/sitenotice/1402/snthemes.js","//c.evidon.com/sitenotice/1402/tripadvisor/settings.js"],P=[],A=[];function L(e){e&&Object.entries(e).forEach(([e,n])=>{f.set(e,!!n)}),function(e){var n=(e=>{var n=[],i=[];if(void 0!==e){if(e.all)return'{"out":"","in":"ALL"}';var t=function(e,n){if(null==e)return{};var i,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)i=r[t],n.indexOf(i)>=0||(o[i]=e[i]);return o}(C,["all"]);Object.keys(t).forEach(t=>{if(t!==g.ESSENTIAL){var o=C[t];!0===e[t]?n.push(o):i.push(o)}})}return JSON.stringify({out:i.join(),in:n.join()})})(e);c.set("TATrkConsent",btoa(n),m)}(e),P.forEach(e=>e()),P.length=0}function O(e){if("function"!=typeof e)throw new Error("Invalid argument. Expected a function - got "+typeof e);var n=()=>{"timeout"!==v&&e()};switch(v){case"disabled":case"received":e();break;case"pending":P.push(n)}return()=>b(P,n)}function k(e,n,i){if(!Object.values(g).includes(e))throw new Error(`"${e}" is not a known consent category. Supported values are: ${Object.values(g).join(", ")}`);if("function"!=typeof n)throw new Error('Invalid argument. "onConsent" should be a function');if(!["function","undefined"].includes(typeof i))throw new Error('Invalid argument. "onDeclined" should be a function');var t=()=>{f.get(e)||f.get(g.ALL)?n():i&&i()};if(e===g.ESSENTIAL)return n(),()=>{};switch(v){case"disabled":n();break;case"timeout":i&&i();break;case"received":t();break;case"pending":P.push(t)}return()=>b(P,t)}function y(){var e;(null==(e=evidon)?void 0:e.notice)&&evidon.notice.showPreferencesDialog("prior-consent")}function S(){var[e,n]=t(void 0);return o(()=>{var e=function(e){var n=()=>{var n,i,t,o;(null==(n=evidon.notice)||null==n.isGDPR?void 0:n.isGDPR())?e("GDPR"):(null==(i=evidon.notice)||null==i.isCCPA?void 0:i.isCCPA())?e("CCPA"):"br"===(null==(t=evidon.notice)||null==(o=t.country)?void 0:o.code)?e("LGPD"):e("NONE")};return evidon&&evidon.notice||"disabled"===v?n():A.push(n),()=>b(A,n)}(n);return()=>e()},[]),{isPending:void 0===e,isRequired:"GDPR"===e||"LGPD"===e}}var j=({children:e,category:n=g.ALL,deferOnly:i=!1})=>{var[r,a]=t(!1);return o(()=>{var e=()=>{a(!0)},t=i?O(e):k(n,e);return()=>t()},[n,i]),r&&e},I=({children:e})=>{var[n]=r(u),{isWebview:t}=r(d),a=t||"RegistrationController"===n.page&&!n.params.fullscreen||"1"===c.get("forceConsentOptOut");return o(()=>{a||(()=>{var e,n,i=(null==(e=window)||null==(n=e.location)?void 0:n.hostname)||"";if(i.includes("tripadvisor-preview"))v="disabled";else if("uninitialized"===v){v="pending";var t=setTimeout(()=>{v="timeout",L()},5e3);(function({onConsentUpdate:e,userId:n,hostname:i}){if("undefined"==typeof window||!window.document)return Promise.reject(new Error("Attempted to load Evidon during SSR"));n&&(evidon.userId=n),evidon.priorConsentCallback=(n,t,o)=>{var r,a=Object.values(n).every(e=>!0===e);e(a?{all:a}:Object.assign({},n)),c.remove("_evidon_suppress_notification_cookie",{path:"/",domain:null==(r=i.match(".tripadvisor.*"))?void 0:r[0]})},evidon.closeCallback=()=>{evidon.notice.dropSuppressionCookie(365)},evidon.consentWithdrawnCallback=()=>{},evidon.consentChangedCallback=()=>{location.reload()},evidon.consentDeclinedCallback=()=>{evidon.notice.dropSuppressionCookie(365),e({all:!1})};var t=E.map(e=>s(e,"WP"));return Promise.all(t)})({hostname:i,onConsentUpdate:e=>{v="received",L(e)}}).then(()=>{clearTimeout(t),A.forEach(e=>e()),A.length=0})}})()},[a]),i.createElement(i.Fragment,null,!a&&E.map(e=>i.createElement(l,{path:e,key:e})),e,!a&&"Home"===n.page&&i.createElement(p,null))};return e({enqueue:O,requestConsent:k,showConsentPreferences:y,useConsent:h,useOptInRequired:S}),[()=>{globalThis.evidon=globalThis.evidon||Object.assign({},w),v="uninitialized",f=new Map,p=a.component.onUsage(()=>n("lMO0v3/GzJMLX"),"default"),e({CategoriesEnum:g,ConsentGate:j,ConsentProvider:I,enqueue:O,requestConsent:k,showConsentPreferences:y,useConsent:h,useOptInRequired:S})},[e=>(i=e.default,t=e.useState,o=e.useEffect,r=e.useContext),e=>(a=e,s=e.importScript),e=>c=e.default,e=>(u=e.Route,d=e.Device),e=>l=e.PreloadedScript]]},["cDcdfi","pLbCP4","vmXh3M","2R4xv2","E8NZou"]]);
