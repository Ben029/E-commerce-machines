(this.$WP=this.$WP||[]).push(["tV1cF7",(e,t)=>{"use strict";var r,a,i,n,l,s,o,u,d,c,v,m,g,p,f,E,b,y,_,h,T,S,k,x,N,P,O,L,A,C,D,w,R,I,B=!1,z=null,M=0,W=(e,t)=>{var r=(e=>{try{return JSON.parse(localStorage.getItem(e)||"[]")}catch(e){}return[]})(t);r.length>0&&!B?(z=null,M=0,B=!0,e({events:r}).then(()=>{((e,t)=>{try{var r=JSON.parse(localStorage.getItem(t)||"[]");localStorage.setItem(t,JSON.stringify(r.filter(t=>e.every(e=>!h(t,e)))))}catch(e){}})(r,t)}).finally(()=>{B=!1})):r.length>0&&B&&setTimeout(()=>W(e,t),400)},V=()=>{var[,e]=_(A),[{page:t}]=r.useContext(f),{viewportCategory:a}=r.useContext(E),{locale:i}=r.useContext(b),n=(()=>{var{sessionId:e}=r.useContext(y);return"true"===localStorage.getItem("force_ad_event_logging")||(T(e),T(e)%100<5)})();return r.useCallback((r,l,s,o)=>{n&&(((e,t)=>{try{var r=JSON.parse(localStorage.getItem(t)||"[]");r.push(e),localStorage.setItem(t,JSON.stringify(r))}catch(e){}})({page:t,locale:i.code,viewportCategory:a,eventType:r,pos:l,empty:s,fillTime:o},"ad_slot_event_mutation_buffer"),((e,t)=>{null!==z&&M<10?(M++,clearTimeout(z)):M=0,z=setTimeout(()=>W(e,"ad_slot_event_mutation_buffer"),200)})(e))},[e,t,i.code,a,n])},U=(e,t)=>{var r=n([]);return h(r.current,t)||(r.current=t),i(e,[r.current])},j=({children:e,value:t})=>{var r=U(()=>t,[t]);return a.createElement(C.Provider,{value:r},e)},F={isRendered:!1,isVisible:!1,isLoaded:!1,isEmpty:!0};function K(e,t,a="",l=!1,c,g=!0){var f,y,[_,h]=o(null),T=n(null),k=u(e=>{h(e)},[]),x=n(0),N=`slot:${e.replace(/\|/g,"-")}:${t}`,{domainName:P}=s(b),O=s(m),L=function(e,t){var r=v(),a=s(C),n=S(t),l=function(e,t){var{userAgentCategory:r,isWebview:a}=s(E);if("MOBILE"===r){if(e.includes("8x8"))return a?"app_external":"web_external";if("adhesion"===t)return"adhesion"}return null}(e,t),o=function(e,t,r){return r&&"horizon"===t?"horizonnova":e.includes("5x1")||"horizon"===t?"horizon":e.includes("728x90")?"banner":"300x250"===e&&t.startsWith("rail")?"shortRail":t.startsWith("rail")?"rail":null}(e,t,n);return i(()=>{if(!r)return null;var{adBase:e,ppid:i}=r;return Object.assign({},r,{},o&&{fluidType:o},{},l&&{mob_adslot:l},{pos:t},a,{PlusEligible:String(n),adBase:e,ppid:i})},[r,o,l,t,a,n])}(e,t),[A,D]=o(F),{isLoaded:w,isRendered:R,isVisible:I}=A,B=(f=r.useRef(!1),y=V(),r.useCallback((e,t,r,a)=>{f.current||(y(e,t,r,a),f.current=!0)},[f,y])),z=V(),M=u(e=>{T.current&&T.current.contentWindow.postMessage(e,P)},[P]),W=null!==L,U=n(!1);U.current=W&&w&&I;var j=i(()=>p(()=>{O&&O.refreshSlot(N)},g?3e4:0),[O,N,g]);return d(()=>{if(R&&_&&(T.current=_.querySelector("iframe"),T.current&&c)){var e=e=>{var r;e.data&&"object"==typeof e.data&&(e.source===(null==(r=T.current)?void 0:r.contentWindow)||"loadNativeAd"===e.data.cpmMessageType&&e.data.adPos===t)&&c(e.data)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}},[R,_,c,t]),d(()=>{U.current&&j()},[j,a,U]),d(()=>{if(_&&W&&O&&L){var r={id:N,elem:_,size:e,position:t,targeting:L,aboveTheFold:l},{addEventListener:a}=O.createSlot(r);B("CREATED",t);var i=a((e,r)=>{switch(r){case"slotRefreshStart":x.current=Date.now(),z("REFRESHED",t);break;case"slotRenderEnded":case"forcedEmpty":z("POPULATED",t,e.isEmpty,0!==x.current?Date.now()-x.current:null),x.current=0}D(t=>Object.assign({},t,{},e))});return()=>{O.destroySlot(N),D(F),i()}}},[N,O,_,e,t,L,l,W,z,B]),Object.assign({ref:k,id:N,postMessage:M},A)}function H(e,t=""){var[r,a]=o(0);return d(()=>{var t=setInterval(()=>{a(e=>e+1)},e);return()=>clearInterval(t)},[t,a,e]),t+r.toString()}function J(e=""){var[t,r]=o(0);return d(()=>{var e=()=>{"visible"===document.visibilityState&&r(e=>e+1)};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),e+t.toString()}function q(){return J()}function G(e){var{setTargeting:t}=s(g),r=U(()=>e,[e]);d(()=>(t(r),()=>t({})),[r,t])}var Q=({children:e=null})=>{var{localize:t}=N(),{viewportCategory:r}=s(E),{ref:i,id:n,isEmpty:l}=K("320x50","adhesion","",!0),[c,v]=o(!1);d(()=>{var e=!x.get("WP.adhesionDismissed");v(e)},[]);var m=u(()=>{x.set("WP.adhesionDismissed",!0),v(!1)},[]);return"MOBILE"!==r?null:a.createElement(a.Fragment,null,c&&a.createElement("div",{className:"_3snflG74"},!l&&a.createElement("div",{className:"_3gH48itZ"},a.createElement(O,{size:"small",onClick:m,iconName:"times","aria-label":t.string("common_Close")})),a.createElement("div",{id:n,ref:i,className:k("_1m3etSgR",{_2dsjWObm:l})})),(!c||l)&&e)},$=({size:e="300x250|300x600|160x600",position:t="rail1"})=>{var{viewportCategory:r}=s(E),i=q(),{ref:n,id:l,isEmpty:o}=K(e,t,i,!1);return"MOBILE"!==r?a.createElement("div",{id:l,className:k("_1upLTbBU","_2U7hOKan",{_1RPpfP6Q:o}),ref:n}):null};function X(e,t){if(null==e)return{};var r,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(i[r]=e[r]);return i}function Y(e,t){var{size:r}=e,a=X(e,["size"]),{size:i}=t,n=X(t,["size"]);return L(a,n)&&L(r,i)}var Z={mobile:"300x250|8x8",tablet:"728x90",desktop:"728x90"},ee=({size:{mobile:e=Z.mobile,tablet:t=Z.tablet,desktop:r=Z.desktop}=Z,position:i="inline1",topDivider:n=null,bottomDivider:l=null})=>{var{viewportCategory:o}=s(E),u=q(),d={MOBILE:e,TABLET:t,DESKTOP:r}[o],{ref:c,id:v,isEmpty:m}=K(d||"",i,u,!1);return d?a.createElement(a.Fragment,null,!m&&n,a.createElement("div",{id:v,ref:c,className:k("_1upLTbBU",{_1RPpfP6Q:m})}),!m&&l):null},te={withTopBorder:"_39cov-xP",backgroundedAd:"_1TfVX7W6"},re={mobile:"300x250|8x8",tablet:"728x90",desktop:"970x250|728x90"},ae=({size:{mobile:e=re.mobile,tablet:t=re.tablet,desktop:r=re.desktop}=re,additionalWrapperClass:i,topDivider:n=null,bottomDivider:l=null})=>{var{viewportCategory:o}=s(E),u=q(),d={MOBILE:e,TABLET:t,DESKTOP:r}[o],{ref:c,id:v,isEmpty:m}=K(d||"","footer",u,!1);return d?a.createElement(a.Fragment,null,!m&&n,a.createElement("div",{id:v,ref:c,className:k("_1upLTbBU",{_1RPpfP6Q:m,[te[i]]:!!te[i]})}),!m&&l):null},ie={mobile:null,tablet:"728x90",desktop:"728x90|970x66"},ne=()=>{var{cdnPrefix:e}=s(b),t=e+"/img2/brand_refresh/Tripadvisor_lockup_horizontal.svg";return a.createElement("div",{className:k("_1upLTbBU","_1urGYU6q")},a.createElement("div",{className:"_3pfITqMT"},a.createElement("img",{src:t,alt:"Tripadvisor"})),a.createElement("div",{className:"TmGnT_Qn"},a.createElement(P,{id:"brand_save_money_we_search_200"})))},le=({children:e=a.createElement(ne,null),reserveHeight:t=!0,size:{mobile:r=ie.mobile,tablet:i=ie.tablet,desktop:n=ie.desktop}=ie})=>{var{viewportCategory:l}=s(E),o=q(),u={MOBILE:r,TABLET:i,DESKTOP:n}[l],{ref:d,id:c,isRendered:v,isEmpty:m}=K(u||"","header",o,!0);return u?a.createElement("div",{className:k({"_-40dAr8a":t})},t&&v&&m&&e,a.createElement("div",{id:c,ref:d,className:k("_1upLTbBU",{_1RPpfP6Q:v&&m})})):null};return e({useAd:K,useInterval:H,usePageTargeting:G,usePageVisibility:J,useRefreshKey:q}),[()=>{(A=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"RecordAdSlotEvent"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"events"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NamedType","name":{"kind":"Name","value":"AdEvents_AdSlotEventInput"}}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"AdEvents_recordAdSlotEvent"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"Variable","name":{"kind":"Name","value":"events"}}}],"directives":[]}]}}],"loc":{"start":0,"end":125}}')).__key=51431320983231,C=l({}),D=c($),w=c(ee,Y),R=c(ae,Y),I=c(le,Y),e({AdTargetingProvider:j,Adhesion:Q,FooterAd:R,HeaderAd:I,InlineAd:w,RailAd:D,useAd:K,useInterval:H,usePageTargeting:G,usePageVisibility:J,useRefreshKey:q})},[e=>(r=e,a=e.default,i=e.useMemo,n=e.useRef,l=e.createContext,s=e.useContext,o=e.useState,u=e.useCallback,d=e.useEffect,c=e.memo),e=>(v=e.usePageTargeting,m=e.AdServer,g=e.PageTargeting),e=>p=e.default,e=>(f=e.Route,E=e.Device,b=e.Environment,y=e.Visitor),e=>_=e.useMutation,e=>h=e.default,e=>T=e.stringHash,e=>S=e.useOptimusAdSlotEligibility,e=>k=e.default,e=>x=e.default,e=>(N=e.useLocalize,P=e.UnsafeLocalize),e=>O=e.CircularButton,e=>L=e.shallowEquals]]},["cDcdfi","5-GvUO","gsKhh7","2R4xv2","5X2em-","YwNsO_","O-HcBE","kLoEDZ","jSLlaY","jaCyxS","0DsHEV","7yGKf-","XtxvfD"]]);
