(this.$WP=this.$WP||[]).push(["ZyINvt",(e,t)=>{"use strict";var n,a,i,l,r,o,c,m,s,d,u,p,v,g,k,E,f,_,y,S,N,b,C,P,F,h,T,A,x,w,R,I,L,O,B,D,M,W,z,G,H,V,j,U,Y,K,q,J,X,Q,Z,$,ee,te,ne,ae,ie,le,re,oe,ce,me,se,de,ue,pe,ve,ge,ke,Ee,fe,_e,ye,Se,Ne,be,Ce,Pe,Fe,he,Te,Ae,xe,we,Re,Ie,Le,Oe,Be,De,Me,We,ze,Ge,He,Ve,je,Ue,Ye,Ke,qe,Je,Xe,Qe,Ze,$e,et,tt,nt,at,it,lt,rt,ot,ct,mt,st,dt,ut,pt,vt,gt,kt,Et,ft,_t,yt,St,Nt,bt,Ct,Pt,Ft,ht,Tt,At,xt,wt,Rt,It,Lt,Ot,Bt,Dt,Mt,Wt,zt,Gt,Ht,Vt,jt,Ut,Yt,Kt,qt,Jt,Xt,Qt,Zt,$t,en,tn,nn,an,ln,rn,on,cn,mn,sn,dn,un,pn,vn,gn,kn,En,fn,_n,yn,Sn,Nn,bn,Cn,Pn,Fn,hn,Tn,An,xn,wn,Rn,In,Ln,On,Bn,Dn,Mn,Wn,zn,Gn,Hn,Vn,jn,Un,Yn,Kn,qn,Jn,Xn,Qn,Zn,$n,ea,ta,na,aa,ia,la,ra,oa,ca,ma,sa,da,ua,pa,va,ga,ka,Ea,fa,_a,ya,Sa,Na,ba,Ca,Pa=()=>{var{trackClick:e}=g(),{scrollOffset:t,sectionRefMapping:a,scrollToSection:i}=T(),l=d(),r=u();if(!l&&!r)return null;var o=a.get("AppPresentation_ImportantInformationWeb"),c=()=>{e({clientContext:"ImportantInformationWeb"}),i(o)};return n.createElement(n.Fragment,null,(l||r)&&n.createElement(Q,{variant:"title-03",marginBottom:"spacing-03"},n.createElement(Z,{id:"phoenix_poi_itinerary_title"})),l&&n.createElement(Pt,{productItinerary:l,preferSeeImportantCallback:!0,onSeeImportantInformationClick:c,customTopOffset:t}),r&&n.createElement(Ft,{mdtProductItinerary:r,preferSeeImportantCallback:!0,onSeeImportantInformationClick:c}))},Fa=({model:e})=>{var{subSectionsShort:t,subSectionsStandard:a,subSectionsFull:i}=e,{viewportCategory:l}=n.useContext(R),r="MOBILE"===l;return n.createElement(n.Fragment,null,n.createElement("div",{className:"_24mYR-Rb"},t&&t.filter(Boolean).map((e,t)=>n.createElement(ce,{model:e,key:t})),a&&r&&a.filter(Boolean).map((e,t)=>n.createElement(ce,{model:e,key:t})),a&&!r&&a.filter(Boolean).reverse().map((e,t)=>n.createElement(ce,{model:e,key:t}))),n.createElement("div",null,i&&i.filter(Boolean).map((e,t)=>n.createElement(ce,{model:e,key:t}))))},ha=({model:e})=>{var{sectionTitle:t,subSectionsShort:a,subSectionsStandard:i,modalLinkText:l}=e,[r,{openModal:o,closeModal:c}]=se("importantInfoDetails"),{viewportCategory:m}=n.useContext(R),s="MOBILE"===m,d=t&&n.createElement(Q,{variant:"title-03",marginBottom:"spacing-04"},n.createElement(oe,{model:t}));return n.createElement(n.Fragment,null,d,n.createElement("div",{className:"T0291IZg"},n.createElement("div",null,a&&a.filter(Boolean).map((e,t)=>n.createElement(ce,{model:e,collapse:!0,onCollapsedClick:o,key:t}))),n.createElement("div",{className:"_2eaki-gS"},i&&i.filter(Boolean).map((e,t)=>n.createElement(ce,{model:e,collapse:!0,onCollapsedClick:o,key:t})))),l&&n.createElement(ne,{variant:"secondary",onClick:o,fullWidth:s},n.createElement(oe,{model:l})),n.createElement("div",{className:"_2xEX8yFU"},n.createElement(ht,{model:e})),r&&n.createElement(re,{variant:"fixed-height-sticky-footer",widthOption:"fixed-60",title:d,onClose:c},n.createElement(ht,{model:e})))},Ta=()=>{var{viewportCategory:e}=i(R),t="MOBILE"===e;return a.createElement("div",null,a.createElement(Q,{variant:"title-01"},a.createElement(Z,{id:"fusion_generic_error_title"})),a.createElement(Q,{variant:"body-01",marginTop:"spacing-04",marginBottom:"spacing-05"},a.createElement(Z,{id:"fusion_generic_error_message"})),a.createElement(ne,{onClick:()=>window.location.reload(),fullWidth:t},a.createElement(Z,{id:"fusion_generic_error_reload_cta"})))},Aa=()=>i(At),xa=({ticket:e,addDivider:t})=>{var{onSelectTicket:n}=Aa(),{trackClick:i}=g(),l=pe({internalLink:e.productDetailsLink}),r=e.labels&&a.createElement(_e,{model:e.labels});return a.createElement("div",null,null!=r&&a.createElement("div",{className:"_7EkNB4O7"},r),a.createElement(E,{href:l.url},a.createElement(Q,{variant:"title-04"},e.name)),null!=e.reviewCount&&null!=e.reviewRating&&a.createElement(he,{numReviews:e.reviewCount,rating:e.reviewRating,size:"small",marginTop:"spacing-01",marginBottom:"spacing-02"}),a.createElement(Ee,{variant:"minimal"},a.createElement(E,{href:l.url},a.createElement("span",{dangerouslySetInnerHTML:{__html:e.description}}))),a.createElement("div",{className:"_286YLhtp"},e.price&&a.createElement(E,{href:l.url},a.createElement(Q,{variant:"title-05"},a.createElement(oe,{model:e.price}))),a.createElement(ne,{variant:"commerce",size:"medium",onClick:()=>{n(e),i({clientContext:"selectTicket",clientParameter:e.name})}},a.createElement(Z,{id:"exp_check_availability"}))),t&&a.createElement(xe,{marginY:"spacing-04"}))},wa=({model:e})=>{var{onSelectTicket:t}=Aa(),{trackClick:n}=g();return l(()=>{var a,i,l;1===(null==(a=e.tickets)?void 0:a.length)&&e.tickets[0]&&(t(e.tickets[0],!0),n({clientContext:"selectTicket",clientParameter:null==(i=e.tickets)||null==(l=i[0])?void 0:l.name}))},[t,e.tickets,n]),a.createElement("div",null,e.tickets&&e.tickets.length>1&&e.tickets.filter(Boolean).map((e,t,n)=>a.createElement(xa,{ticket:e,key:t,addDivider:t<n.length-1})))},Ra=e=>{var t;return!(null==(t=e.startTimes)?void 0:t.length)&&!!e.available},Ia=e=>{var t;return!!(null==(t=e.startTimes)?void 0:t.some(e=>"AvailableTimedEntryOption"===(null==e?void 0:e.entryType)))},La=e=>{var t;return null==(t=e.startTimes)?void 0:t.find(e=>"AvailableTimedEntryOption"===(null==e?void 0:e.entryType))},Oa=e=>!!e.some(e=>"AvailableTimedEntryOption"===(null==e?void 0:e.entryType)),Ba=e=>e.filter(Boolean).filter(e=>null!=e.startTime).map(e=>{var t=e.startTime||"",n="UnavailableTimedEntryOption"===e.entryType;return{chipContent:a.createElement("div",{className:{_2jfGCFw8:n}},t),disabled:n,keyValue:t}}),Da=({model:e,currentTourGrade:t})=>{var n,{trackClick:l}=g(),{viewportCategory:m}=i(R),{selectedTourGrade:s,onSelectTourGrade:d}=Aa(),u=(null==s?void 0:s.tourGrade)===t?null==s||null==(n=s.timedEntry)?void 0:n.startTime:null,p=r(()=>"MOBILE"===m?3:6,[m]),v=r(()=>Ba(e.slice(0,p)),[p,e]),k=r(()=>Ba(e.slice(p)),[p,e]),E=r(()=>(e=>{var t=new Map;return e.filter(Boolean).filter(e=>null!=e.startTime).forEach(e=>{var n=e.startTime||"";t.set(n,e)}),t})(e),[e]),f=o((e,n,a)=>{var i;a.stopPropagation(),d({tourGrade:t,timedEntry:E.get(e)}),l({clientContext:"selectTour",clientParameter:`${(null==(i=t.title)?void 0:i.text)||""} ${e}`})},[t,E,d,l]),_=Oa(e)&&!Oa(e.slice(0,p)),[y,S]=c(_),N=a.createElement("div",{className:"_3sTaGV2W"},a.createElement(Z,{id:"attractions.see.more.times"})," ",a.createElement(Oe,{name:"single-chevron-down"})),b=a.createElement("div",{className:"_3sTaGV2W"},a.createElement(Z,{id:"attractions.see.fewer.time"})," ",a.createElement(Oe,{name:"single-chevron-up"})),C=e=>{var n;e.stopPropagation(),l({clientContext:y?"collapseTimedEntries":"expandTimedEntries",clientParameter:""+((null==(n=t.title)?void 0:n.text)||"")}),S(e=>!e)};return a.createElement("div",{className:"_3Kg90MI0"},a.createElement(Ie,{chipsData:v,onChange:f,selectedValue:u,variant:"button"}),0!==k.length&&a.createElement(a.Fragment,null,!y&&a.createElement(Q,{variant:"body-01",marginY:"spacing-02"},a.createElement(ae,{variant:"primary",onClick:C},N)),y&&a.createElement(a.Fragment,null,a.createElement(Ie,{chipsData:k,onChange:f,selectedValue:u,variant:"button"}),a.createElement(Q,{variant:"body-01",marginY:"spacing-02"},a.createElement(ae,{variant:"primary",onClick:C},b)))))},Ma=({model:e})=>{var t,{trackClick:n}=g(),{selectedTourGrade:i,onSelectTourGrade:l}=Aa(),{startTimes:c}=e,m=r(()=>La(e),[e]),s=(null==(t=e.detailedPrice)?void 0:t.length)?e.detailedPrice:(null==m?void 0:m.detailedPrice)||null,d=e.totalPrice||(null==m?void 0:m.totalPrice)||null,u=r(()=>Ra(e)||Ia(e),[e]),v=(null==i?void 0:i.tourGrade)===e,k=o(()=>{if(u&&(!v||!(null==i?void 0:i.timedEntry))){var t,a,r=null!=m?`${(null==(t=e.title)?void 0:t.text)||""} ${m.startTime||""}`:null==(a=e.title)?void 0:a.text;l({tourGrade:e,timedEntry:m}),n({clientContext:"selectTour",clientParameter:r})}},[e,m,v,u,i,l,n]),E=r(()=>null!=c&&c.length>0&&a.createElement(wt,{model:c,currentTourGrade:e}),[c,e]);return a.createElement("div",{onClick:k,className:p("_1DsI3SHL",{_1UtX0YAe:v,_2zTELJiS:u})},a.createElement("div",{className:"KENxFE-T"},a.createElement("div",null,e.title&&a.createElement(Q,{variant:"title-04",marginBottom:"spacing-02"},a.createElement(oe,{model:e.title})),u&&null!=e.description&&e.description&&a.createElement(Ee,{variant:"minimal"},a.createElement(Q,{variant:"supporting-01"},a.createElement("span",{dangerouslySetInnerHTML:{__html:e.description}}))),s&&a.createElement(Q,{variant:"supporting-02",marginTop:"spacing-02"},s.filter(Boolean).map((e,t)=>a.createElement("div",{key:t},a.createElement(oe,{model:e})))),d&&a.createElement(Q,{variant:"title-05"},a.createElement(oe,{model:d})),a.createElement("div",{className:"_1WXQXqub"}," ",E," ")),u&&a.createElement("div",{className:"_13L2CdTu"},a.createElement(we,{onSelect:k,selected:v,value:e.trackingTitle}))),a.createElement("div",{className:"_1WbCtGNj"}," ",E," "))},Wa=({model:e})=>{var{onSelectTourGrade:t}=Aa(),{trackClick:n}=g();return l(()=>{var a=(e=>{var t;return null==(t=e.tourGrades)?void 0:t[0]})(e);if(null!=a&&(Ra(a)||Ia(a))){var i,l,r=La(a);t({tourGrade:a,timedEntry:r});var o=null!=r?`${(null==(i=a.title)?void 0:i.text)||""} ${r.startTime||""}`:null==(l=a.title)?void 0:l.text;n({clientContext:"selectTour",clientParameter:o})}},[e,t,n]),a.createElement("div",null,a.createElement(Q,{variant:"body-01",marginTop:"spacing-04",marginBottom:"spacing-04"},e.summary&&a.createElement(oe,{model:e.summary})),e.tourGrades&&a.createElement(Re,{name:"tour_grades"},a.createElement("div",{className:"_26Y2AHq-"},e.tourGrades.filter(Boolean).map((e,t)=>a.createElement(Rt,{model:e,key:t})))))},za=({section:e})=>{switch(e.__typename){case"AppPresentation_PoiTickets":return n.createElement(xt,{model:e});case"AppPresentation_TourGradesDetail":return n.createElement(It,{model:e});case"AppPresentation_TourGradesHeader":return null;default:return n.createElement(_,{typename:e.__typename})}},Ga=({model:e})=>{var{sections:t}=e;return n.createElement(n.Fragment,null,t&&t.map((e,t)=>e&&n.createElement(za,{section:e,key:t})))},Ha=({result:e,fetching:t,polling:n})=>{var{localize:i}=$();return a.createElement("div",null,(t||n)&&a.createElement("div",{className:"_1JN15A29"},a.createElement(Fe,{variant:"large","aria-label":i.string("fusion_attraction_commerce_loading")})),!(t||n)&&e&&a.createElement(Lt,{model:e}))},Va=e=>{var t;return"AppPresentation_AttractionProductDatePickerConfiguration"===(null==e||null==(t=e.configuration)?void 0:t.__typename)?e.configuration:null},ja=({result:e})=>{if(!e)return null;var{sections:t}=e;return t?a.createElement(a.Fragment,null,t.map(e=>e&&"AppPresentation_TourGradesHeader"===e.__typename?a.createElement(Ua,{model:e}):null)):null},Ua=({model:e})=>{var{setTicketInfo:t}=Aa(),{datePicker:n,productName:i,productDescription:r,tags:o,labels:c}=e;return l(()=>{var e,a=Va(n);a&&((null==(e=a.passengerInfo)?void 0:e.ageBands)||[]).length>0&&null!=i&&null!=r&&null!=c&&t(a,{name:i,description:r,labels:c})},[n,i,r,c,t]),o?a.createElement("div",{className:"_28MUj3S-"},a.createElement(Be,{model:o})):null},Ya=(e,t)=>{var n;switch(t.type){case"SELECT_TICKET":return Object.assign({},e,{ticketLink:null==(n=t.ticket)?void 0:n.linkV2,singleTicket:t.singleTicket,step:"TOURGRADES"});case"SELECT_TOUR":return Object.assign({},e,{selectedTourGrade:t.tour});case"START_BOOKING":return Object.assign({},e,{isBooking:!0});case"SET_TICKET_INFO":return e.datePickerConfig===t.datePickerConfig?e:Object.assign({},e,{datePickerConfig:t.datePickerConfig,ticketInfo:t.ticketInfo});case"BACK":return{step:"TICKETS",isBooking:!1};case"ERROR":return{step:"GENERIC_ERROR",isBooking:!1};default:return console.error("Unhandled action",t.type),e}},Ka={},qa={};function Ja(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!qa[t]&&(qa[t]=!0,!0)}))}var Xa={},Qa={};function Za(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!Qa[t]&&(Qa[t]=!0,!0)}))}var $a={};function ei(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!$a[t]&&($a[t]=!0,!0)}))}var ti={};function ni(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!ti[t]&&(ti[t]=!0,!0)}))}var ai={};function ii(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!ai[t]&&(ai[t]=!0,!0)}))}var li={};function ri(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!li[t]&&(li[t]=!0,!0)}))}var oi={},ci={};function mi(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!ci[t]&&(ci[t]=!0,!0)}))}var si={};function di(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!si[t]&&(si[t]=!0,!0)}))}var ui={};function pi(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!ui[t]&&(ui[t]=!0,!0)}))}var vi={};function gi(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!vi[t]&&(vi[t]=!0,!0)}))}var ki={};function Ei(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!ki[t]&&(ki[t]=!0,!0)}))}var fi={},_i={updateToken:null,delayForNextPollInMillis:-1},yi=e=>t=>(null==t?void 0:t.__typename)===e,Si=(e,t,n)=>(null==t?void 0:t.find(yi(n)))||e.find(yi(n)),Ni=({contentId:e,contentType:t,state:n,children:a})=>{var{state:{currency:i,unitLength:o,commerce:m}}=y(),{onError:d}=Aa(),u=r(()=>({unitLength:o,currency:i,request:{routeParameters:{contentId:e,contentType:t,state:n}},commerce:m}),[i,o,e,t,n,m]),[{result:p,fetching:v,polling:g,error:k}]=(e=>{var[t,n]=c(null),a=s([]),i=r(()=>({query:nn,variables:Object.assign({},e,{request:Object.assign({},e.request,{updateToken:t})})}),[e,t]),[{data:o,fetching:m,error:d},u]=Me(i),p=null==o?void 0:o.Result,v=null==p?void 0:p.status.pollingStatus,g=null!=(null==v?void 0:v.updateToken),k=ze(e);l(()=>{De(e,k)||(n(null),a.current=[])},[e,k]),l(()=>{var e;if(!m){var{updateToken:t,delayForNextPollInMillis:a}=v||_i;null!=t&&a>0&&(e=setTimeout(()=>{n(t)},Math.max(a,300)))}return()=>{e&&clearTimeout(e)}},[v,e,m]);var E=r(()=>p?((e,t)=>{if(0===e.length)return t;var n=Si(e,t.sections,"AppPresentation_TourGradesHeader"),a=Si(e,t.sections,"AppPresentation_TourGradesDetail");return n||a?Object.assign({},t,{sections:[n,a].filter(Boolean)}):t})(a.current,p):null,[p]);return a.current=(null==E?void 0:E.sections)||[],r(()=>[{result:E,polling:g,fetching:m,error:d},u],[E,g,m,d,u])})(u);return l(()=>{k&&d()},[k,d]),a({result:p,fetching:v,polling:g})},bi=({datePickerConfig:e,children:t,clearTourGrade:n,setFusionDates:l})=>{var{singleDate:c,setSingleDate:m,isDefaultDates:s}=Ne(l),{pax:d,setPax:u}=be(),{viewportCategory:p}=i(R),v=o(e=>{var t;"MOBILE"!==p&&(null==(t=e.ref.current)||t.scrollIntoView())},[p]),g=o((...e)=>{n(),m(...e)},[n,m]),k=o((...e)=>{n(),u(...e)},[n,u]),E=r(()=>(null==e?void 0:e.priceCalendar)&&e.priceCalendar.length>0?new Set(e.priceCalendar.map(e=>null==e?void 0:e.date).filter(Boolean)):void 0,[null==e?void 0:e.priceCalendar]),f=Ce({date:c,setDate:g,availableDates:E,isDefaultDates:s}),_=Pe({passengerInfo:null==e?void 0:e.passengerInfo,currentPax:d,setPax:k,showApplyButton:!1}),y=r(()=>[f,_],[f,_]);return a.createElement(Se,{pickers:y,onOpen:v,inline:!0},t)},Ci=({onClose:e,setFusionDates:t,initialStep:n="TICKETS",link:l=null,isRnplEligible:r=!1})=>{var c,{localize:s}=$(),[d,u]=(({initialStep:e="TICKETS",link:t=null})=>m(Ya,{step:e,ticketLink:t,isBooking:!1}))({initialStep:n,link:l}),{viewportCategory:v}=i(R),{trackClick:k}=g(),{state:{detailRequest:E}}=y(),{step:f,ticketLink:_,singleTicket:S,ticketInfo:N,selectedTourGrade:b,datePickerConfig:C,isBooking:P}=d,F="TICKETS"===n&&!S,h=(null==(c=E.routeParameters)?void 0:c.contentId)||"0",T="MOBILE"===v,A=o((e,t=!1)=>{u({type:"SELECT_TICKET",ticket:e,singleTicket:t})},[u]),x=o((e,t)=>{u({type:"SET_TICKET_INFO",datePickerConfig:e,ticketInfo:t})},[u]),w=o(e=>{u({type:"SELECT_TOUR",tour:e})},[u]),I=o(()=>w(null),[w]),L=o(()=>{u({type:"ERROR"}),k({clientContext:"errorScreen"})},[u,k]),O=o(()=>{k({clientContext:"RNPLCopy",clientParameter:"learnMoreClick"})},[k]),B=e=>{u({type:"START_BOOKING"}),k({clientContext:e?"bookRNPL":"bookTour"});var t=(null==b?void 0:b.timedEntry)?b.timedEntry.webviewCheckout:null==b?void 0:b.tourGrade.webviewCheckout,{addToCartUrl:n,addToCartPayload:a,checkoutUrl:i,rnplCheckoutUrl:l}=t||{};n&&a&&(!e&&i||e&&l)&&((e,t)=>new Promise((n,a)=>{var i=l=>{fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t,credentials:"same-origin"}).then(e=>{if(e.ok)return e;throw Error()}).then(e=>e.json()).then(e=>{"COMPLETE"!==e.polling_state?"IN_PROGRESS"===e.polling_state&&l<30?setTimeout(()=>i(l+1),1e3):a():e.result&&"SUCCESS"===e.result.status?n():a()}).catch(a)};i(1)}))(n,a).then(()=>{window.location=e?l:i}).catch(L)};return a.createElement(At.Provider,{value:{onSelectTicket:A,setTicketInfo:x,selectedTourGrade:b,onSelectTourGrade:w,onError:L}},a.createElement(bi,{datePickerConfig:C,setFusionDates:t,clearTourGrade:I},({renderPickerFlow:t,currentPicker:n,closePicker:i})=>{var l,o,c,m,d,v=!T&&n||"TOURGRADES"===f&&F,g=(null==b?void 0:b.timedEntry)?b.timedEntry.rnplEligibility:null==b?void 0:b.tourGrade.rnplEligibility,E=(null==g?void 0:g.isEligible)||!1,y=v?a.createElement(ae,{onClick:()=>{!n&&F&&u({type:"BACK"}),i(),k({clientContext:"back"})},disabled:P},a.createElement(Z,{id:"phoenix_back"})):void 0;"TOURGRADES"===f&&(T||"date"!==(null==n?void 0:n.name)?T||"pax"!==(null==n?void 0:n.name)?(d=r?a.createElement(ne,{onClick:()=>B(!0),variant:"secondary",disabled:!b||P||!E,loading:P,"aria-label":s.string("fusion_attraction_commerce_reservation"),fullWidth:T,marginRight:"spacing-03"},T?a.createElement(Z,{id:"attraction.reserve.button"}):a.createElement(Z,{id:"attractions.booking.reserve.now.pay.later"})):null,m=a.createElement(ne,{onClick:()=>B(!1),variant:"commerce",disabled:!b||P,loading:P,"aria-label":s.string("fusion_attraction_commerce_booking"),fullWidth:T&&null!==d},a.createElement(Z,{id:"phoenix_poi_attractions_book_now_btn"}))):m=a.createElement(ne,{onClick:()=>{null==n||n.onApply()}},a.createElement(Z,{id:"phoenix_picker_apply"})):m=a.createElement(ne,{onClick:()=>{k({clientContext:"next"}),null==n||n.onApply()}},a.createElement(Z,{id:"phoenix_next"})));var S,A=a.createElement(Q,{variant:"supporting-02",elementType:"span"},a.createElement(fe,{href:"https://www.tripadvisorsupport.com/hc/en-us/articles/360039125133-Reserve-Now-Pay-Later",theme:"inline",target:"_blank",onClick:O},a.createElement(Z,{id:"fusion_reserve_now_pay_later_notice_cta"}))),x=T?a.createElement(Z,{id:"fusion_reserve_now_pay_later_explanation_mobile",args:{0:A}}):a.createElement(Z,{id:"fusion_reserve_now_pay_later_explanation",args:{0:A}});switch(f){case"TICKETS":S=s.string("phoenix_poi_attractions_tickets_tab");break;case"TOURGRADES":S=null==N?void 0:N.name;break;default:S=null}var w=(null==N?void 0:N.labels)&&N.labels.length>0&&a.createElement(_e,{model:N.labels});return a.createElement(re,{variant:"fixed-height-sticky-footer",heightOption:"restricted-full",footer:a.createElement("div",{className:"WXGKd94U"},a.createElement("div",{className:"_3HnYif09"},a.createElement("div",null,y),a.createElement("div",{className:d?"_1OHFiylq":""},d,m)),d&&a.createElement(Q,{variant:"supporting-01",marginTop:"spacing-04",marginBottom:"spacing-04"},E?x:(null==g||null==(l=g.ineligibleReason)?void 0:l.text)||"")),onClose:P?void 0:e},a.createElement("div",{className:p("_3H2sIqp0",{"_3-GuRBvi":P})},null!=w&&a.createElement("div",{className:"_1n4DYixb"},w),null!=S&&a.createElement(Q,{variant:"title-02",marginBottom:"spacing-02"},S),"TICKETS"===f&&a.createElement(Ni,{contentId:h,contentType:"attraction",state:"tickets"},({result:e,fetching:t,polling:n})=>a.createElement(Ha,{fetching:t,polling:n,result:e})),"TOURGRADES"===f&&"Routing_AttractionCommerceParameters"===(null==_||null==(o=_.route)||null==(c=o.typedParams)?void 0:c.__typename)&&a.createElement(Ni,{contentId:_.route.typedParams.contentId,contentType:_.route.typedParams.contentType,state:"tour_grades"},({result:e,fetching:i,polling:l})=>a.createElement(a.Fragment,null,a.createElement(ja,{result:e}),(null==N?void 0:N.description)&&a.createElement("div",{className:"_3JM7WSli"},a.createElement(Ee,null,a.createElement(Q,{variant:"body-01"},a.createElement("span",{dangerouslySetInnerHTML:{__html:N.description}})))),(null==C?void 0:C.passengerInfo)&&t(),a.createElement("div",{className:n?"_2uE1QzhI":""},a.createElement(Ha,{fetching:i,polling:l,result:e})))),"GENERIC_ERROR"===f&&a.createElement(Ta,null)))}))},Pi=({model:e,setFusionDates:t})=>{var{price:a,subTitle:i,title:l,linkV2:r}=e,{setPersistentCommerce:o}=A(),[c,{openModal:m,closeModal:s}]=se("seeTickets"),{text:d}=pe({internalLink:r});return n.useEffect(()=>{var e=d&&{variant:"commerce",onClick:m,children:n.createElement(oe,{model:d})},t=null==a?void 0:a.text;o({ctaButtonProps:e,priceText:t})},[d,m,null==a?void 0:a.text,o]),n.createElement(n.Fragment,null,l&&n.createElement("div",{className:de("Y9Ug6c7n",ue({marginBottom:"spacing-02"}))},n.createElement(Q,{variant:"title-05"},n.createElement(oe,{model:l})),a&&n.createElement(Q,{variant:"title-03"},n.createElement(oe,{model:a}))),i&&n.createElement(Q,{variant:"body-01"},n.createElement(oe,{model:i})),d&&n.createElement(ne,{variant:"commerce",size:"large",fullWidth:!0,onClick:m,marginTop:"spacing-05"},n.createElement(oe,{model:d})),c&&n.createElement(Ci,{onClose:s,setFusionDates:t}))},Fi=({model:e})=>{var{buttonText:t,subTitle:n,title:i}=e,{sectionRefMapping:r,scrollToSection:c}=T(),{setPersistentCommerce:m}=A(),{trackClick:s}=g(),d=r.get("ATTRACTION_WAYS_TO_EXPERIENCE"),u=o(()=>{s({clientContext:"seeTours"}),c(d)},[s,c,d]);return l(()=>{if(d){var e=t&&{onClick:u,children:a.createElement(oe,{model:t})};m({ctaButtonProps:e})}},[t,u,d,m]),d?a.createElement(a.Fragment,null,i&&a.createElement(Q,{variant:"title-05",marginBottom:"spacing-02"},a.createElement(oe,{model:i})),n&&a.createElement(Q,{variant:"body-01"},a.createElement(oe,{model:n})),t&&a.createElement(ne,{size:"large",fullWidth:!0,marginTop:"spacing-05",onClick:u},a.createElement(oe,{model:t}))):null},hi=({model:e,setFusionDates:t})=>{var{tickets:a,tours:i}=e;return n.createElement("div",{className:"_291eZobX"},a&&n.createElement(an,{model:a,setFusionDates:t}),i&&n.createElement(ln,{model:i}))},Ti=({onClose:e})=>n.createElement(re,{variant:"fixed-height-sticky-footer",widthOption:"fixed-60",title:n.createElement(Z,{id:"attractions.booking.reserve.now.pay.later"}),onClose:e},n.createElement(Q,{variant:"body-01",marginBottom:"spacing-02"},n.createElement(Z,{id:"attractions.booking.rnpl.description.para"})),n.createElement(Q,{variant:"title-05"},n.createElement("ol",{className:"_1OcBGviQ"},n.createElement("li",null,n.createElement(Z,{id:"attractions.booking.rnpl.find.your.experience"}),n.createElement(Q,{variant:"body-01",marginBottom:"spacing-02"},n.createElement(Z,{id:"attractions.booking.rnpl.find.your.experience.description"}))),n.createElement("li",null,n.createElement(Z,{id:"attractions.booking.rnpl.make.reservation"}),n.createElement(Q,{variant:"body-01",marginBottom:"spacing-02"},n.createElement(Z,{id:"attractions.booking.rnpl.make.reservation.description"}))),n.createElement("li",null,n.createElement(Z,{id:"attractions.booking.rnpl.choose.pay"}),n.createElement(Q,{variant:"body-01",marginBottom:"spacing-02"},n.createElement(Z,{id:"attractions.booking.rnpl.choose.pay.description"}))),n.createElement("li",null,n.createElement(Z,{id:"attractions.booking.rnpl.enjoy.experience"}),n.createElement(Q,{variant:"body-01",marginBottom:"spacing-02"},n.createElement(Z,{id:"attractions.booking.rnpl.enjoy.experience.description"}))))),n.createElement(Q,{variant:"supporting-02",marginBottom:"spacing-04",marginTop:"spacing-03"},n.createElement(fe,{href:"https://www.tripadvisorsupport.com/hc/en-us/articles/360039125133-Reserve-Now-Pay-Later",theme:"inline"},n.createElement(Z,{id:"attractions.booking.rnpl.frequently.asked"})),n.createElement("span",null," • "),n.createElement(fe,{href:"https://www.viator.com/support/reserveNowPayLater#termsAndConditions",theme:"inline"},n.createElement(Z,{id:"attractions.booking.rnpl.terms.conditions"}))));function Ai({datePickerConfig:e,onComplete:t,setFusionDates:n}){var{singleDate:i,setSingleDate:l,isDefaultDates:o}=Ne(n),{pax:c,setPax:m}=be(),s=r(()=>e.priceCalendar&&e.priceCalendar.length>0?new Set(e.priceCalendar.map(e=>null==e?void 0:e.date).filter(Boolean)):void 0,[e.priceCalendar]),d=Ce({date:i,setDate:l,availableDates:s,isDefaultDates:o}),u=Pe({passengerInfo:e.passengerInfo,currentPax:c,setPax:m,showApplyButton:!0}),p=r(()=>[d,u],[d,u]);return a.createElement(Se,{pickers:p,onComplete:t})}var xi=({price:e,strikeThroughPrice:t,isPerGroupPricing:n,isTieredPricing:i,maxTravelersPerUnit:l})=>!0===n?null!=t?null!=l?a.createElement(Z,{id:"fusion_attractions_from_price_per_group_up_to_strikethrough_txt",args:{strikeThroughPrice:t,price:e,groupSize:l}}):a.createElement(Z,{id:"fusion_attractions_from_price_per_group_strikethrough_txt",args:{strikeThroughPrice:t,price:e}}):null!=l?a.createElement(Z,{id:"phoenix_poi_attractions_from_price_per_group_txt_v2",args:{price:e,groupSize:l}}):a.createElement(Z,{id:"phoenix_list_attractions_from_price_per_group_txt_v2",args:{price:e}}):!0===i?null!=t?a.createElement(Z,{id:"fusion_attractions_from_price_per_adult_price_varies_by_group_size_strikethrough_txt",args:{strikeThroughPrice:t,price:e}}):a.createElement(Z,{id:"phoenix_poi_attractions_from_price_per_adult_price_varies_by_group_size_txt",args:{price:e}}):null!=t?a.createElement(Z,{id:"fusion_attractions_from_price_per_adult_strikethrough_txt",args:{strikethroughPrice:t,price:e}}):a.createElement(Z,{id:"phoenix_product_attractions_from_price_per_person_txt_v2",args:{price:e}}),wi=({price:e,strikeThroughPrice:t,isPerGroupPricing:n,isTieredPricing:i,maxTravelersPerUnit:l})=>{var{localize:r}=$(),o=t&&a.createElement(Q,{variant:"title-05",color:"strikethroughText",display:"inline"},a.createElement("s",{className:"_1091GTWe","data-strikethrough-start":r("fusion_strikethrough_start"),"data-strikethrough-end":r("fusion_strikethrough_end")},a.createElement(oe,{model:t}))),c=a.createElement(Q,{variant:"title-05",display:"inline"},a.createElement(oe,{model:e}));return a.createElement(Q,{variant:"body-01"},a.createElement(xi,{price:c,strikeThroughPrice:o,isPerGroupPricing:n,isTieredPricing:i,maxTravelersPerUnit:l}))},Ri=({model:e,setFusionDates:t})=>{var{commercePersistentCTA:a,datePicker:i,isPerGroupPricing:l,isRnplEligible:r,isTieredPricing:o,maxTravelersPerUnit:c,noCommerceMessage:m,price:s,productTitle:d,specialOffer:u,strikeThroughPrice:p,tags:v}=e,{trackClick:k}=g(),[E,{openModal:f,closeModal:_}]=se("checkAvailability"),[y,{openModal:S,closeModal:N}]=se("rnplAdditionalInfo"),{setPersistentCommerce:b}=A(),{text:C}=pe({internalLink:null==a?void 0:a.link}),P=Va(i),F=r||!1,h=n.useCallback(()=>{S(),k({clientContext:"rnplLearnMore"})},[S,k]);return n.useEffect(()=>{var e=C&&{variant:"commerce",onClick:f,children:n.createElement(oe,{model:C})},t=(null==a?void 0:a.fromPriceShort)&&n.createElement(He,{model:a.fromPriceShort});b({ctaButtonProps:e,priceText:t})},[C,null==a?void 0:a.fromPriceShort,f,b]),n.createElement("div",{className:"_3LwoCesN"},n.createElement("div",null,u&&n.createElement("div",{className:"_1tPMAigh"},n.createElement(Ge,{variant:"accent"},n.createElement(oe,{model:u}))),n.createElement("div",{className:"_3Wtsqq_X"},d&&n.createElement(Q,{variant:"title-05"},n.createElement(oe,{model:d})),s&&n.createElement("div",{className:"gydcZNBm"},n.createElement(wi,{price:s,strikeThroughPrice:p,isPerGroupPricing:l,isTieredPricing:o,maxTravelersPerUnit:c})))),P&&n.createElement("div",{className:"fedW0MX2"},n.createElement(Ai,{datePickerConfig:P,onComplete:f,setFusionDates:t})),C&&n.createElement(ne,{variant:"commerce",size:"large",onClick:f,fullWidth:!0},n.createElement(oe,{model:C})),(v||F)&&n.createElement("div",null,v&&n.createElement(Q,{variant:"body-01"},n.createElement(Be,{model:v})),F&&n.createElement(Q,{variant:"body-01",display:"inline-block",marginTop:v?"spacing-03":void 0},n.createElement(Z,{id:"fusion_reserve_now_pay_later_notice",args:{cta:n.createElement(ae,{onClick:h},n.createElement(Z,{id:"fusion_reserve_now_pay_later_notice_cta"}))}}))),y&&n.createElement(Ti,{onClose:N}),m&&n.createElement(Q,{variant:"body-01"},n.createElement(oe,{model:m})),E&&(null==a?void 0:a.link)&&n.createElement(Ci,{onClose:_,setFusionDates:t,initialStep:"TOURGRADES",link:a.link,isRnplEligible:F}))};function Ii(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Li=({model:e})=>{var{cta:t,status:a}=e,i=Ii(e,["cta","status","__typename"]),{url:l,text:r}=(e=>{switch(null==e?void 0:e.__typename){case"AppPresentation_ExternalLink":return ge(e);case"AppPresentation_InternalLink":return ve(e);default:return(null==e?void 0:e.__typename)&&e.__typename,{text:null,url:null}}})(t),o=r&&n.createElement(oe,{model:r});return n.createElement(Ue,Object.assign({commerceCta:o,commerceUrl:l,isAvailable:"AVAILABLE"===a},i))},Oi=({model:e})=>{switch(e.__typename){case"AppPresentation_HotelCommercePrimaryOffer":return a.createElement(cn,{model:e});default:return a.createElement(_,{typename:e.__typename})}},Bi=e=>"AVAILABLE"===e.status,Di=e=>"NOT_AVAILABLE"===e.status,Mi=({similarHotels:e,hotelWebsite:t})=>{var{text:n,url:i}=ve(e),{text:l,url:r}=ge(t);return a.createElement(a.Fragment,null,n&&null!=i&&a.createElement(ne,{variant:"secondary",href:i,target:"_blank"},a.createElement(oe,{model:n})),l&&null!=r&&a.createElement(ne,{variant:"primary",href:r,target:"_blank"},a.createElement(oe,{model:l})))},Wi=({primaryOffer:e,topOffers:t,additionalOffers:n,viewAllCta:i})=>{var l=r(()=>"AppPresentation_HotelCommercePrimaryOffer"===(null==e?void 0:e.__typename)?{providerName:e.providerName,status:e.status,commerceUrl:"",displayPrice:e.displayPrice}:null,[e]),o=r(()=>[l,...t||[],...n||[]].filter(Boolean).map(e=>{var t;return{href:e.commerceUrl||"",displayName:e.providerName||"",disabled:Di(e),trailingInfo:(null==(t=e.displayPrice)?void 0:t.text)||"",externalLinkIcon:Bi(e),target:"_blank"}}),[l,t,n]);return i&&null!=(null==n?void 0:n.length)&&n.length>0?a.createElement("div",{className:"_2QRwUES8"},a.createElement(Ve,{mode:"menu",options:o,label:i.text||"",trigger:e=>{var t=Ii(e,["active","iconName","placeholder"]);return a.createElement(ne,Object.assign({fullWidth:!0,variant:"secondary-commerce"},t),a.createElement(oe,{model:i}))}})):null},zi=({topOffers:e,additionalOffers:t,viewAllCta:n})=>{var[i,l]=c(!1),{localize:r}=$();return(null==e?void 0:e.length)&&(null==t?void 0:t.length)&&n?a.createElement("div",{className:"_1FuO2W9I"},a.createElement("div",{className:p(!i&&"_2UugU0jk")},a.createElement(Q,{variant:"title-05"},e.concat(t).filter(Boolean).map(e=>{var t=Di(e),n=a.createElement("div",{className:p("_2F9OVwj_",t&&"_3tQYXTsd")},a.createElement("div",{className:"_1DpnUUq0"},e.providerName),a.createElement("div",null,e.displayPrice?a.createElement(oe,{model:e.displayPrice}):a.createElement(Oe,{name:"prohibited"})));return a.createElement("div",{className:"_5-L-UhEy",key:e.providerName},t?n:a.createElement(fe,{theme:"standalone",href:e.commerceUrl,target:"_blank"},n))}))),a.createElement(ne,{fullWidth:!0,variant:"secondary-commerce",onClick:()=>l(e=>!e)},i?r("collapse_deals"):a.createElement(oe,{model:n}))):null},Gi=({model:e})=>{var{primaryOffer:t,topOffers:n,additionalOffers:r,viewAllCta:o,viewAllMobileCta:c,hotelCommerceInfo:m,datePicker:d,bookViaHotelWebsite:u,bookViaHotelWebsiteSubtitle:p,similarHotels:v,hotelWebsite:g}=e,k=s(null),{localize:E}=$(),{setPersistentCommerce:f}=A(),{scrollToSection:_}=T(),{loading:y,polling:N}=i(S),b=(e=>{var t;return"AppPresentation_HotelDatePickerConfiguration"===(null==e||null==(t=e.configuration)?void 0:t.__typename)?e.configuration:null})(d),C=!!g||!!v;l(()=>{var e,n,i={variant:"commerce",onClick:()=>_(k),children:a.createElement(Z,{id:"phoenix_poi_hotels_view_deal"})};"AppPresentation_HotelCommercePrimaryOffer"===(null==t?void 0:t.__typename)&&(e=null==(n=t.displayPrice)?void 0:n.text),f({ctaButtonProps:i,priceText:e})},[t,f,E,_]);var P=E.string("phoenix_loading_prices_txt");return a.createElement("div",{ref:k,className:"_3kdZI6fP"},m&&a.createElement(je,{datePickerConfig:b,model:m}),y||N?a.createElement("div",{className:"M52jxCCO"},a.createElement(Q,{variant:"supporting-03",marginTop:"spacing-05",marginBottom:"spacing-04"},P),a.createElement(ne,{variant:"commerce",fullWidth:!0,loading:!0,"aria-label":P},P)):a.createElement(a.Fragment,null,t&&a.createElement(mn,{model:t}),n&&n.filter(Boolean).map(e=>a.createElement("div",{className:"_3MOdHRF7",key:e.providerName},a.createElement(Ye,{model:e}))),a.createElement(Wi,{primaryOffer:t,topOffers:n,additionalOffers:r,viewAllCta:o}),a.createElement(zi,{topOffers:n,additionalOffers:r,viewAllCta:c}),C&&a.createElement("div",{className:"_2swlLIoG"},u&&a.createElement(Q,{variant:"title-05",marginBottom:"spacing-02"},a.createElement(He,{model:u})),p&&a.createElement(Q,{variant:"body-01",marginBottom:"spacing-02"},a.createElement(He,{model:p})),a.createElement(Mi,{similarHotels:v,hotelWebsite:g}))))},Hi=e=>{var{disclaimerText:t,headerText:a,provider:i,providerLogo:l}=e;return n.createElement(n.Fragment,null,n.createElement("div",{className:"_84fvWPYW"},n.createElement("div",{className:"Xsbj7A61"},a&&n.createElement(Q,{variant:"title-05",elementType:"span"},n.createElement(oe,{model:a}))),n.createElement("div",{className:"_1a_K3BMX"},l?n.createElement(Ke,{src:l,alt:i,width:"100px"}):n.createElement(Q,{variant:"title-03",elementType:"span"},i))),t&&n.createElement("div",{className:"_2_YmAdmt"},n.createElement(Q,{variant:"body-01",elementType:"span"},n.createElement(oe,{model:t}))))},Vi=({model:e})=>{var{disclaimerText:t,headerText:a,linkV2:i,provider:l,providerLogo:r}=e,{text:o,url:c}=pe({internalOrExternalLink:i});return o&&"string"==typeof c?n.createElement("div",{className:"_1mtuqLYL"},n.createElement(Hi,{disclaimerText:t,headerText:a,provider:l,providerLogo:r}),n.createElement(ne,{size:"large",fullWidth:!0,variant:"commerce",href:c},n.createElement(oe,{model:o}))):null},ji=({model:e})=>{var{headerText:t,message:a,parentGeoSearchLink:i,partySize:l,provider:r,providerLink:o,providerLogo:c,reservationDate:m,reservationTime:s}=e,d=pe({internalOrExternalLink:o}),u=pe({internalOrExternalLink:i});return n.createElement("div",{className:"ySh5YNTE"},null!=l&&n.createElement(n.Fragment,null,"Party size: ",l),null!=m&&""!==m&&n.createElement(n.Fragment,null,"Reservation date: ",m),null!=s&&""!==s&&n.createElement(n.Fragment,null,"Party size: ",s),n.createElement(Hi,{headerText:t,provider:r,providerLogo:c}),a&&n.createElement(n.Fragment,null,n.createElement("div",{className:"_1z0Jn8Gt"},n.createElement(Q,{variant:"body-01",elementType:"span"},n.createElement(oe,{model:a}))),null!=d.url&&""!==d.url&&d.text&&n.createElement("div",{className:"_7hjhL-FS"},n.createElement(ne,{size:"small",variant:"primary",href:d.url},n.createElement(oe,{model:d.text}))),null!=u.url&&""!==u.url&&u.text&&n.createElement("div",{className:"_1Et-S4re"},n.createElement(ne,{size:"small",variant:"secondary",href:u.url},n.createElement(oe,{model:u.text})))))},Ui=({model:e})=>{switch(e.__typename){case"AppPresentation_ExternalRestaurantCommerceOffer":return n.createElement(dn,{model:e});case"AppPresentation_HostedRestaurantCommerceOffer":return n.createElement(un,{model:e});default:return n.createElement(_,{typename:e.__typename})}},Yi=({model:e})=>{var{offerSlot1:t,offerSlot2:n}=e,i=s(null),{setPersistentCommerce:r}=A(),{scrollToSection:o}=T();return l(()=>{var e={variant:"commerce",onClick:()=>o(i),children:a.createElement(Z,{id:"findatable_fffff863"})};r({ctaButtonProps:e})},[r,o]),a.createElement("div",{ref:i},t&&a.createElement(pn,{model:t}),n&&a.createElement(pn,{model:n}))},Ki=({model:{photoCTA:e,reviewCTA:t,sectionTitle:a}})=>{var{trackClick:i}=g();return n.createElement(n.Fragment,null,a&&n.createElement(Q,{variant:"title-03",marginBottom:"spacing-04"},n.createElement(oe,{model:a})),n.createElement("div",{className:"_2dkzR_O9"},[t,e].map((e,t)=>{var{url:a,text:l,trackingContext:r="contributeCTA"}=pe({internalLink:e});return null==l||null==a?null:n.createElement(ne,{variant:"secondary",href:a,onClick:()=>{i({clientContext:r})},marginBottom:"spacing-02",marginRight:"spacing-02",key:t},n.createElement(oe,{model:l}))})))},qi=({subtitle:e,model:t,collapseText:a=!0})=>{var{viewportCategory:i}=n.useContext(R),l="MOBILE"!==i,r=n.createElement(Q,{variant:"body-01"},t),o=a?n.createElement(Ee,{variant:l?"extended":void 0},r):r;return n.createElement("div",null,e&&n.createElement(Q,{variant:"title-05",marginBottom:"spacing-02"},n.createElement(oe,{model:e})),o)},Ji=(e,t,a,i=!1)=>n.createElement("span",{className:"_3fjOUc47"},n.createElement(Q,{variant:"body-01",marginBottom:i?"spacing-02":void 0},n.createElement(ie,{leftAlign:!0,href:e,onClick:a},t,n.createElement(Oe,{name:"single-chevron-right"})))),Xi=()=>{var[{params:e}]=n.useContext(I),t=e.detailId||0,a=e.geoId||0,{trackClick:i}=g();return t>0&&a>0?n.createElement("div",null,n.createElement(Q,{variant:"title-05",marginBottom:"spacing-02"},n.createElement(Z,{id:"sanitation_checklist_community"})," "),Ji(`/FAQ-g${a}-d${t}`,n.createElement(Z,{id:"sanitation_checklist_ask_a_question"}),()=>i({clientContext:"askQuestion"}),!0),Ji(`/UserReview-g${a}-d${t}`,n.createElement(Z,{id:"sanitation_checklist_write_a_review"}),()=>i({clientContext:"writeReview"}))):null},Qi=e=>(null==e?void 0:e.filter(Boolean).filter(e=>(e=>e.subsectionType&&"LongTextListSubsection"===e.subsectionType)(e)))||[],Zi=e=>e.subsectionType&&"ContactSubsection"===e.subsectionType,$i=e=>{if(!e)return!1;var{subsections:t}=e;return Qi(t).some(e=>{switch(e.__typename){case"AppPresentation_LongTextListSubsection":return(e.list.length||0)>3;default:return!1}})},el=({model:e})=>{var t,a=(null==(t=e)?void 0:t.filter(Boolean).filter(Zi))||[];return n.createElement(n.Fragment,null,a.length>0&&a.map((e,t)=>n.createElement("div",{className:"_1nH8H3pC",key:t},n.createElement(ce,{model:e}))))},tl=({model:e})=>n.createElement(Q,{variant:"title-03"},n.createElement(oe,{model:e})),nl=({model:e})=>n.createElement(Q,{variant:"supporting-01",display:"inline-block",marginRight:"spacing-01"},n.createElement(oe,{model:e})),al=({model:e,showViewAll:t=!1,onViewAll:a})=>{var{viewportCategory:i}=n.useContext(R),l="MOBILE"===i,r=Qi(e);return n.createElement(n.Fragment,null,r.length>0&&n.createElement(n.Fragment,null,r.map((e,t)=>{switch(e.__typename){case"AppPresentation_LongTextListSubsection":return n.createElement("div",{key:t},n.createElement(me,{model:e,useBullets:!0}));default:return null}}),t&&n.createElement(ne,{onClick:a,fullWidth:l},n.createElement(Z,{id:"phoenix_poi_covid_checklist_view_all"}))))},il=({model:e,showViewAll:t,onViewAll:a})=>{var{lastUpdated:i,sectionTitle:l,subtitle:r,managementResponse:o,subsections:c}=e,m=n.createElement("div",{className:"_1eKpgLc5"},n.createElement(Xi,null),n.createElement(En,{model:c}));return(e=>{if(!e)return!0;var{managementResponse:t,subsections:n}=e;return null==t&&!(e=>!!e&&Qi(e).some(e=>{switch(e.__typename){case"AppPresentation_LongTextListSubsection":return(e.list.length||0)>0;default:return!1}}))(n)})(e)?null:n.createElement("div",{className:"_2rY9KL0I"},n.createElement(v,null,l&&n.createElement("div",{className:"_34Om4uRn"},n.createElement(fn,{model:l})),i&&n.createElement("div",{className:"_34Om4uRn"},n.createElement(_n,{model:i})),n.createElement("div",{className:"_2sEpiC8P"},n.createElement("div",null,null!=o&&n.createElement("div",{className:"_2IsG35z8"},n.createElement(kn,{subtitle:r,model:o})),n.createElement(yn,{model:c,showViewAll:t,onViewAll:a})),m)))},ll=({model:e,onClose:t})=>{var{lastUpdated:a,sectionTitle:i,subtitle:l,managementResponse:r,subsections:o,disclaimer:c}=e;return n.createElement(re,{onClose:t,variant:"fixed-height-sticky-footer",widthOption:"fixed-60"},i&&n.createElement("div",{className:"_2W8L1lXw"},n.createElement(fn,{model:i})),a&&n.createElement("div",{className:"_2W8L1lXw"},n.createElement(_n,{model:a})),null!=r&&n.createElement("div",{className:"_2W8L1lXw"},n.createElement(kn,{subtitle:l,model:r,collapseText:!1})),n.createElement(yn,{model:o}),n.createElement("div",{className:"URN3l2m7"},n.createElement(En,{model:o}),n.createElement(Xi,null)),c&&n.createElement("div",{className:"_1yCWd3GT"},n.createElement(Q,{variant:"supporting-01",marginBottom:"spacing-02"},n.createElement(oe,{model:c}))))},rl=({model:e})=>{var{main:t,modal:a}=e,[i,{openModal:l,closeModal:r}]=se("safetyMeasures");return n.createElement(n.Fragment,null,t&&n.createElement(Sn,{model:t,showViewAll:$i(a),onViewAll:l}),a&&n.createElement(n.Fragment,null,i&&n.createElement(Nn,{model:a,onClose:r}),n.createElement("div",{className:"_2lRfV2Q6"},n.createElement(yn,{model:a.subsections}))))},ol=({model:e})=>{var{day:t,intervals:a}=e;return((null==a?void 0:a.length)||0)>0?n.createElement("div",{className:"_25HrSpyH"},n.createElement(Q,{variant:"body-01",elementType:"span"},n.createElement(oe,{model:t})),n.createElement("div",{className:"_2XgjXwK7"},null==a?void 0:a.map((e,t)=>n.createElement(Q,{variant:"body-01",key:t},e)))):null},cl=({model:e,onClose:t})=>{var{fullScheduleTitle:a,fullSchedule:i,servingTitle:l,servingText:r}=e;return n.createElement(re,{onClose:t},n.createElement("div",{className:ue({marginBottom:"spacing-08"})},a&&n.createElement(Q,{variant:"title-01",marginBottom:"spacing-05"},n.createElement(oe,{model:a})),null==i?void 0:i.filter(Boolean).map((e,t)=>n.createElement(Cn,{model:e,key:t})),l&&r&&n.createElement(n.Fragment,null,n.createElement(Q,{variant:"title-01"},n.createElement(oe,{model:l})),n.createElement(Q,{variant:"body-01"},n.createElement(Be,{model:r})))))},ml=({todayTitle:e,todaySchedule:t})=>n.createElement("div",null,e&&n.createElement(Q,{variant:"title-05"},n.createElement(oe,{model:e})),t&&t.length>0&&n.createElement(Q,{variant:"body-01"},t.filter(Boolean).map((e,t)=>n.createElement(n.Fragment,{key:t},0!==t&&", ",n.createElement(oe,{model:e}))))),sl=({todayTitle:e,todaySchedule:t,onClick:a})=>{var{localize:i}=$();return n.createElement("div",{className:"_17LVmD9Z"},n.createElement(Q,{variant:"title-05",color:"secondaryText"},e&&(a?n.createElement(ae,{onClick:a,ariaAttributes:{"aria-label":i.string("open_hours_details")}},n.createElement(oe,{model:e})):n.createElement(oe,{model:e})),t&&t.length>0&&n.createElement("span",{className:"_15_skC_h"},t.filter(Boolean).map((e,t)=>n.createElement(n.Fragment,{key:t},0!==t&&", ",n.createElement(oe,{model:e}))))))},dl=({model:e})=>{var{todayTitle:t,todaySchedule:a,fullSchedule:i}=e,{viewportCategory:l}=n.useContext(R),{localize:r}=$(),[o,{openModal:c,closeModal:m}]=se("openHours"),s="MOBILE"===l,d=n.useMemo(()=>((null==i?void 0:i.filter(Boolean).length)||0)>0,[i]),u=d?c:void 0,p=d&&s?n.createElement(Oe,{name:"single-chevron-right",size:24}):null,v=s?n.createElement(ml,{todayTitle:t,todaySchedule:a}):n.createElement(sl,{todayTitle:t,todaySchedule:a,onClick:u}),g=s&&d?"button":"div",k=s&&d?{"aria-label":r.string("open_hours_details"),onClick:u}:{};return n.createElement(n.Fragment,null,n.createElement(g,Object.assign({className:"nGgs_vBt"},k),v,p),d&&n.createElement(n.Fragment,null,o&&n.createElement(Pn,{model:e,onClose:m}),n.createElement("div",{className:"_2sof_meD"},null==i?void 0:i.filter(Boolean).map((e,t)=>n.createElement(Cn,{model:e,key:t})))))},ul=({model:e})=>{var{poiHours:t}=e,{viewportCategory:a}=n.useContext(R);return"MOBILE"===a&&t?n.createElement(Fn,{model:t}):null},pl=()=>{var[{page:e,params:t}]=a.useContext(I);return-1===["Hotel_Review","Restaurant_Review"].indexOf(e)||null==t.detailId?null:a.createElement(qe,{locationId:t.detailId})},vl=({model:e})=>{var{sectionTitle:t,sectionDescription:a,improveThisListingRoute:i}=e,l="MOBILE"===n.useContext(R).viewportCategory,r=i?ve(i):null;return n.createElement("div",{className:"uvkumNGB"},n.createElement("div",{className:"_2RLseuQG"},t&&n.createElement(Q,{variant:"title-05"},n.createElement(oe,{model:t})),a&&n.createElement(Q,{variant:"body-01",marginTop:"spacing-01"},n.createElement(oe,{model:a})),(null==r?void 0:r.text)&&null!==r.url&&n.createElement(ne,{href:r.url,variant:"secondary",size:"large",fullWidth:l,marginTop:"spacing-04"},n.createElement(oe,{model:r.text}))),n.createElement("div",{className:"_2RLseuQG"},n.createElement(pl,null)))},gl=({model:e})=>{var{description:t,price:a,title:i}=e;return n.createElement("div",{style:{flex:"0 0 50%"}},n.createElement("div",null,n.createElement(Q,{variant:"title-05"},i),null!=t&&n.createElement(Q,{variant:"body-01"},t)),null!=a&&n.createElement(Q,{variant:"title-05"},a))},kl=({model:e})=>{var{sectionTitle:t,entries:a}=e,[i,l]=n.useState(!1);return n.createElement("div",null,t&&n.createElement(Q,{variant:"title-03"},n.createElement(oe,{model:t})),a&&n.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a.filter(Boolean).map((e,t)=>n.createElement(An,{model:e,key:t}))),n.createElement("div",null,n.createElement(ne,{variant:"secondary",onClick:()=>l(!0)},n.createElement(Z,{id:"tavrs_common_view_more"}))),i&&n.createElement(re,{variant:"variable-height",title:"",onClose:()=>l(!1)}))},El=({model:e})=>{var{contactLinks:t,numberReviews:a,poiHoursOverview:i,rating:l,rankingDetails:r,supplierLink:o,tags:c,jsonLd:m}=e,{trackClick:s}=g(),{viewportCategory:d}=n.useContext(R),{sectionRefMapping:u,scrollToSection:v}=T(),k=u.get("AppPresentation_PoiReviewsAndQAWeb"),E="MOBILE"!==d,{url:f,text:_}=pe({internalLink:o}),{url:y,text:S,trackingContext:N}=pe({internalLink:r}),b=null!=_&&null!=f,C=(l||0)>0&&(a||0)>0,P=(null==c?void 0:c.text)||!1,F=((null==t?void 0:t.length)||0)>0,h=C||null!=S&&null!=y||P||b,A=F||E&&null!=i,x=h||A,w=(e=>{if(null==e)return null;try{return JSON.parse(e)}catch(e){return console.error("[Fusion] failed to parse PoiOverviewWeb jsonLd"),null}})(m);return x?n.createElement("div",{className:"_34tkJODg"},h&&n.createElement("div",{className:"_2_jwXcKq"},C&&null!==l&&null!==a&&n.createElement("div",{className:"_28X3NMFC"},n.createElement(he,{rating:l,numReviews:a,size:"medium",url:"#REVIEWS",onClick:e=>{e.preventDefault(),s({clientContext:"review"}),v(k)}})),null!=S&&null!=y&&n.createElement("div",{className:"_28X3NMFC"},n.createElement(ie,{href:y,onClick:()=>s({clientContext:N}),leftAlign:!0},n.createElement(Q,{variant:"body-01"},n.createElement(oe,{model:S})))),P&&null!=c&&n.createElement("div",{className:"_28X3NMFC"},n.createElement(Q,{variant:"body-01"},n.createElement(Be,{model:c}))),null!=_&&null!=f&&n.createElement("div",{className:"_28X3NMFC"},n.createElement(ie,{href:f,target:"_blank",leftAlign:!0},n.createElement(Q,{variant:"body-01"},n.createElement(oe,{model:_}))))),A&&n.createElement("div",{className:"_2_jwXcKq"},E&&i&&n.createElement(Fn,{model:i}),F&&n.createElement("div",{className:p("_3BZVYbNq","_28X3NMFC")},null==t?void 0:t.filter(Boolean).map((e,t)=>n.createElement("div",{className:"uB5OQXin",key:t},n.createElement(Xe,{model:e}))))),null!=w&&""!==w&&n.createElement(Je,{jsonLdContent:w})):null},fl=({model:e})=>{var{bubbleRating:t,bubbleRatingText:a,contributor:i,cardLink:l,cardTitle:r,text:o}=e,c=pe({internalLink:l}),m=(e=>{var t,n;if("Media_PhotoResult"!==(null==e||null==(t=e.avatar)||null==(n=t.data)?void 0:n.__typename))return null;var{memberProfile:a}=e.avatar.data,i=Ze(e.avatar),{displayName:l,username:r}=a||{};return null==l||null==r||null==i?null:{displayName:l,avatarSource:i,target:"_blank"}})(i),s=n.createElement(n.Fragment,null,m&&n.createElement(Qe,{variant:"one-line-small",profileInfo:[m]}),r&&n.createElement(Q,{variant:"supporting-01",marginTop:"spacing-02"},"“",n.createElement(oe,{model:r}),"”"),null!=t&&a&&n.createElement(Te,{size:"small",rating:t,label:n.createElement(oe,{model:a}),marginTop:"spacing-02"}),o&&n.createElement(Q,{variant:"supporting-01",marginTop:"spacing-02",lineClamp:3},n.createElement(B,{text:o.text})));return null!=c.url?n.createElement(E,{href:c.url,theme:"standalone",trackingDetails:{clientContext:c.trackingContext}},s):s},_l=({model:e})=>{var{sectionTitle:t,reviewSnippets:a,improveThisListing:i}=e;return null==a||0===a.length?null:n.createElement("div",null,t&&n.createElement(Q,{variant:"title-03"},n.createElement(oe,{model:t})),a.filter(Boolean).map((e,t)=>n.createElement("div",{className:"PnPDaXSp",key:t},n.createElement(Rn,{model:e}))),i&&n.createElement(n.Fragment,null,n.createElement("div",{className:"Rpkhoa3C"},n.createElement(xe,{marginY:"spacing-04"})),n.createElement(ce,{model:i})))},yl=e=>{if(e){var{url:t}=ve(e);return t}return null},Sl=e=>{if(e){var{updateToken:t}=ke(e);return t}return null},Nl=({model:e})=>{var[,{navigate:t}]=n.useContext(I),{links:a}=e,i=parseInt(e.limit,10),l=(parseInt(e.currentPageNumber,10)-1)*i,r=parseInt(e.totalResults,10),{trackClick:o}=g(),{dispatch:c}=y(),{sectionRefMapping:m,scrollToSection:s}=T(),d=m.get("AppPresentation_PoiReviewsAndQAWeb"),u=n.useMemo(()=>a?new Map(a.filter(Boolean).filter(e=>!isNaN(parseInt(e.pageNumber,10))).map(e=>[parseInt(e.pageNumber,10),{url:yl(e.internalLink),updateToken:Sl(e.updateLink)}])):{},[a]),p=n.useCallback(e=>{var t,n=parseInt(e.pageNumber,10);return(null==(t=u.get(n))?void 0:t.url)||"#"},[u]),v=n.useCallback(e=>{var t,n=parseInt(e.pageNumber,10);return(null==(t=u.get(n))?void 0:t.updateToken)||void 0},[u]),k=n.useCallback((e,n)=>{n.preventDefault(),o({clientContext:"paginate"});var a=v(e);if(a){c({type:"setUpdateToken",updateToken:a});var i=p(e);if(i){var l=at(i);l&&t(l,"IN_PLACE")}s(d)}},[o,c,t,v,p,d,s]);return isNaN(l)||l<0||!r?null:n.createElement(nt,{offset:l,limit:i,total:r,onClick:k,getUrl:p,hideLastLink:!0})},bl=({model:e})=>{var t,{contributionCount:a,displayName:i,hometown:l,profileImage:r,profileRoute:o}=e,c="MOBILE"===n.useContext(R).viewportCategory,{trackClick:m}=g(),s=(null==o?void 0:o.webLinkUrl)||(null==o?void 0:o.url)||void 0,d=null==r||null==(t=r.photoSizes)?void 0:t.filter(Boolean).map(e=>({url:e.url||"",width:e.width||0,height:e.height||0}));return n.createElement(n.Fragment,null,null!=i&&i&&c&&n.createElement(Qe,{variant:"three-line",profileInfo:[{displayName:i,avatarSource:d,profileHref:s,onClick:()=>m({clientContext:"avatar",clientParameter:i})}],additionalInfo1:null!==l&&l&&n.createElement("span",null,l),additionalInfo2:a&&n.createElement(oe,{model:a})}),null!=i&&i&&!c&&n.createElement(Qe,{variant:"two-line",profileInfo:[{displayName:i,avatarSource:d,profileHref:s}],additionalInfo1:n.createElement(n.Fragment,null,null!==l&&l&&n.createElement("span",null,l),a&&n.createElement("span",{className:p({OeP51cp2:null!==l})},n.createElement(oe,{model:a})))}))},Cl=({model:e,answer:t=!1})=>{var{memberProfile:a,text:i}=e,l=t?"_3C2M8ucY":"_14__ZOfe";return n.createElement(n.Fragment,null,a&&n.createElement("div",{className:l},n.createElement(On,{model:a})),null!=i&&n.createElement(Q,{variant:"supporting-01",marginBottom:"spacing-04"},i))},Pl=({model:e})=>{var{question:t,topAnswer:a,allAnswerLink:i}=e,{trackClick:l}=g(),{text:r,url:o,trackingContext:c}=pe({internalLink:i});return n.createElement("div",{className:"_2pZ2mZxv"},t&&n.createElement(Bn,{model:t}),a&&n.createElement("div",{className:"_1PCqFFQK"},n.createElement(Bn,{model:a,answer:!0})),null!=r&&null!=o&&n.createElement("div",{className:"_3vTc1KkM"},n.createElement(ie,{variant:"accent",href:o,target:"_blank",onClick:()=>{l({clientContext:c})}},n.createElement(oe,{model:r}))))},Fl=({model:{ctaList:e,noContentText:t}})=>{var{trackClick:a}=g();return n.createElement("div",{className:"_1kHS-xaJ"},n.createElement("div",{className:"_2yrMFnE_"},t&&n.createElement("div",{className:"_5F4O4vlO"},n.createElement(Q,{variant:"title-02"},n.createElement(oe,{model:t}))),n.createElement("div",{className:"_3a5wI-R0"},e&&e.filter(Boolean).map((e,t)=>{var{url:i,text:l,trackingContext:r="noContentCtas"}=pe({internalLink:e});return n.createElement("span",{key:t,className:"_3aP0lKLl"},l&&null!==i&&n.createElement(ne,{variant:0===t?"primary":"secondary",size:"large",href:i,onClick:()=>{a({clientContext:r})}},n.createElement(oe,{model:l})))}))))},hl=({id:e,type:t,helpfulVoteCount:a,isLiked:i=!1,onLikeClick:l})=>{var{localize:r}=$(),o={__typename:t,socialStatistics:{isLiked:i,likeCount:a},id:e},[c,m,s]=lt({item:o,onClick:l});return n.createElement(le,{variant:"primary",iconName:m?"thumbs-up-fill":"thumbs-up",onClick:c,size:"small","aria-label":m?r.string("sng_click_to_remove_helpful_vote"):r.string("sng_click_to_add_helpful_vote")},n.createElement(Q,{variant:"supporting-01",elementType:"span"},s))},Tl=({model:e})=>{var{hasVotedReviewHelpful:t,helpfulVoteAction:a,helpfulVotes:i}=e,{trackClick:l}=g();if(null==(null==a?void 0:a.objectId))return console.error("[Fusion] The helpful vote id was not present so the module could not be created"),null;var r=parseInt(a.objectId,10),o=parseInt(null==i?void 0:i.text,10)||0,c=t||!1;return n.createElement(hl,{id:r,type:"Review",helpfulVoteCount:o,isLiked:c,onLikeClick:()=>l({clientContext:"voteReview"})})},Al=({model:e,reviewId:t,onReviewDelete:a,ownerReview:i=!1})=>{var{localize:l}=$(),{trackClick:r}=g(),{open:o}=ot({id:String(t)}),{open:c}=rt({id:String(t),onClose:()=>r({clientContext:"closeReportModal"})}),{open:m}=(({reviewId:e,onClose:t,onDeleteReview:a})=>{var{localize:i}=$(),[l]=(({reviewId:e,onClick:t})=>{var[,a]=We(zn),[i]=n.useContext(mt),l=dt(),r=n.useCallback(()=>e=>{e.removeReview||i({node:n.createElement(st,null,n.createElement(Z,{id:"social_no_permission"})),timeout:8e3})},[i]),o=n.useCallback(()=>a({id:e}),[a,e]);return[n.useCallback(()=>{l({flowOrigin:"login",pid:40469}).then(()=>{try{t&&t()}catch(e){console.error("problem occurred when triggering onClick in delete review flow")}}).then(o).then(r)},[l,o,r,t])]})({reviewId:e}),r=n.useCallback(e=>{a&&a(),e(),l()},[a,l]);return ct(({close:e})=>n.createElement(re,{title:i("delete_confirmation_header_review_0"),onClose:e,primaryButton:n.createElement(ne,{onClick:()=>r(e)},i("inbox_swipe_delete")),secondaryButton:n.createElement(ne,{variant:"secondary",onClick:e},i("aao_delete_cancel_btn_fffff375"))},n.createElement(Q,{variant:"body-01",elementType:"span",marginLeft:"spacing-04",marginTop:"spacing-04"},i("delete_confirmation_description_review_0"))),{onClose:t})})({reviewId:t,onDeleteReview:()=>{r({clientContext:"selectDeleteInModal"}),a&&a()}}),s=n.useCallback((e,t)=>{"ReportIAPWebviewAction"===e&&t?(r({clientContext:"reportManagementResponse"}),o()):"ReportIAPWebviewAction"===e?(r({clientContext:"reportReview"}),c()):"DeleteMediaMutationAction"===e&&(r({clientContext:"deleteReview"}),m())},[r,o,c,m]),d=n.useMemo(()=>e?e.filter(Boolean).filter(e=>{var t;return null!=(null==(t=e.actionName)?void 0:t.text)}).map(e=>{var t;return{onClick:()=>s(e.actionType,i),displayName:null==(t=e.actionName)?void 0:t.text}}):[],[e,i,s]);return n.createElement(n.Fragment,null,d&&n.createElement("div",{className:"_1ia-z9S2"},n.createElement(Ve,{options:d,menuVariant:"trailing-top-caret",label:l.string("sng_review_options"),mode:"menu",onOpen:()=>r({clientContext:"threeDotCTA",clientParameter:i?"ownerResponse":"review"}),fullscreenMobile:!0,trigger:({active:e,onKeyDown:t,ariaAttributes:a,ref:i,onClick:r})=>n.createElement(le,Object.assign({ref:i},a,{onKeyDown:t,variant:"primary",iconName:"more-vertical",size:"small","aria-label":e?l.string("sng_close_options_menu"):l.string("sng_open_options_menu"),onClick:e=>{r&&r(e)}}))})))},xl=({model:e,reviewId:t})=>{var a,{disclaimer:i,displayName:l,profileImage:r,profileRoute:o,publishedDate:c,reportAction:m,text:s}=e,{trackClick:d}=g();null===t&&console.error("The review id was not able to be parsed, will continue to show owner response, with no review actions");var u=(null==o?void 0:o.webLinkUrl)||(null==o?void 0:o.url)||void 0,p=null==r||null==(a=r.photoSizes)?void 0:a.filter(Boolean).map(e=>({url:e.url||"",width:e.width||0,height:e.height||0}));return n.createElement(n.Fragment,null,n.createElement("div",{className:"mw_FMv4B"},null!==l&&n.createElement(Qe,{variant:"two-line",profileInfo:[{displayName:l,avatarSource:p,profileHref:u}]}),m&&null!==t&&n.createElement("div",{className:"cGyG7TzO"},n.createElement(Gn,{model:[m],reviewId:t,ownerReview:!0}))),n.createElement(Ee,{onExpand:()=>d({clientContext:"readMore"})},n.createElement(Q,{variant:"body-01"},s)),c&&n.createElement(Q,{variant:"supporting-02",marginBottom:"spacing-02",marginTop:"spacing-03"},n.createElement(oe,{model:c})),i&&n.createElement(Q,{variant:"supporting-02"},n.createElement(oe,{model:i})))},wl=({model:e})=>{var{label:t,value:a}=e;return n.createElement("div",{className:"_2fhspxi_"},n.createElement("span",{className:"_38yL0N_k"},n.createElement(Oe,{name:"bubble-full",color:"bubbleIcon",size:16})),a&&n.createElement(Q,{variant:"title-05",elementType:"span",marginX:"spacing-01"},n.createElement(oe,{model:a})),t&&n.createElement(Q,{variant:"body-01",elementType:"span"},n.createElement(oe,{model:t})))},Rl=({photos:e,onOpenPhoto:t,onCloseMediaViewer:a})=>{var[i]=n.useContext(I),l=String(i.page),r=i.params.detailId||0,o=H[l],c=Object.assign({},V,{},j[l]),[m,s]=n.useState(null),{localize:d}=$(),{actionHandler:u}=vt(),p=n.useCallback(()=>{s(null),a&&a()},[a]),v=n.useCallback(e=>{s({mediaId:{id:e,type:"p"},albumId:o}),t&&t(e)},[o,t]);return n.createElement(n.Fragment,null,m&&n.createElement(gt,Object.assign({locationId:r,initialSettings:m,onClose:p,routeFragmentIdentifier:"atf",actionHandler:u},c.mediaViewerParams)),n.createElement("div",{className:"_2sooH7VM"},e.filter(Boolean).map(e=>{var t,a,i;return n.createElement("button",{className:"zN7JXSBY",key:e.photoId,onClick:()=>v(e.photoId),"aria-label":d.string("sng_see_full_review_image")},n.createElement(pt,{source:null!=(t=null==(a=e.photo)?void 0:a.photoSizeDynamic)?t:null==(i=e.photo)?void 0:i.photoSizes,width:100,height:100}))})))},Il=({seoProps:e,children:t})=>{var a=e&&e.lang?e.lang:void 0;return a?n.createElement("span",{lang:a},t):t},Ll=(e,t)=>n.createElement(Il,{seoProps:t},n.createElement(Q,{variant:"title-05",marginY:"spacing-02"},n.createElement(He,{model:e}))),Ol=({model:e})=>{var t,a,{bubbleRatingNumber:i,bubbleRatingText:l,cardLink:r,disclaimer:o,helpfulVote:c,htmlText:m,htmlTitle:s,labels:d,machineTranslationProvider:u,ownerResponse:p,photos:v,publishedDate:k,reviewActions:f,safetyText:_,seoProps:y,subratings:S,tip:N,tipText:b,userProfile:C}=e,[P,F]=n.useState(!1),{trackClick:h}=g(),{url:T,trackingContext:A}=pe({internalOrExternalLink:r});(null==c||null==(t=c.helpfulVoteAction)?void 0:t.objectId)?a=parseInt(c.helpfulVoteAction.objectId,10):(a=null,console.error("The review id was not able to be parsed, will continue to show review, with no review actions"));var x,w=null!==y?JSON.parse(y):void 0,R=new Map([["Language Weaver",3],["Language Weaver/TA Edited",4],["Google",5],["MicroSoft",6],["ProMT",7],["AsiaOnline",8]]).get(u);return!P&&n.createElement(n.Fragment,null,n.createElement("div",{className:"_2nBYkPk3"},C&&n.createElement(On,{model:C}),n.createElement("div",{className:"_2WOrDRiF"},c&&n.createElement(Wn,{model:c}),f&&null!==a&&n.createElement(Gn,{model:f,reviewId:a,onReviewDelete:()=>F(!0)}))),n.createElement("div",{className:"_3HXgtLZQ"},d&&d.filter(Boolean).map((e,t)=>n.createElement(ye,{key:t,model:e}))),n.createElement("div",null,null!==i&&n.createElement(Ae,{rating:i})),s&&(""!==(x=T)&&x?n.createElement(E,{href:T,theme:"standalone",trackingDetails:{clientContext:A}},Ll(s,w)):Ll(s,w)),_&&n.createElement("div",{className:"_2kq0Fc4i"},n.createElement(Oe,{name:"alert",size:20,color:"dangerIcon"}),n.createElement(Q,{variant:"title-05",elementType:"span",marginX:"spacing-02"},n.createElement(oe,{model:_}))),l&&null!==l.text&&n.createElement("div",{className:"_3JxPDYSx"},n.createElement(Be,{model:l})),m&&n.createElement(Ee,{variant:"extended",onExpand:()=>h({clientContext:"readMore"})},n.createElement(Il,{seoProps:w},n.createElement(He,{model:m})),S&&n.createElement("div",null,S.filter(Boolean).map((e,t)=>n.createElement(Vn,{key:t,model:e})))),n.createElement("div",null,N&&n.createElement(Q,{variant:"title-05",marginRight:"spacing-01",elementType:"span"},n.createElement(oe,{model:N})),b&&n.createElement(oe,{model:b})),v&&n.createElement(Rl,{photos:v,onOpenPhoto:e=>h({clientContext:"openMediaViewer",clientParameter:String(e)}),onCloseMediaViewer:()=>h({clientContext:"closeMediaViewer"})}),n.createElement("div",{className:"_1b1HH8jx"},R&&n.createElement(Q,{variant:"supporting-02",marginBottom:"spacing-02"},n.createElement(ut,{providerId:R})),k&&n.createElement(Q,{variant:"supporting-02",marginBottom:"spacing-02"},n.createElement(oe,{model:k})),o&&n.createElement(Q,{variant:"supporting-02",marginBottom:"spacing-03"},n.createElement(oe,{model:o}))),p&&n.createElement("div",{className:"_3MTo5es_"},n.createElement(Hn,{model:p,reviewId:a})))},Bl=e=>{var{initialSearchQuery:t,onSubmit:a,debounceTime:i=2e3}=e,l=Ii(e,["initialSearchQuery","onSubmit","debounceTime"]),{localize:r}=$(),[o,c]=n.useState(t),m=kt(e=>{null!=e&&a(e)},i);return n.useEffect(()=>{c(t)},[t]),n.createElement("form",{className:de(ue(l)),onSubmit:e=>{e.preventDefault(),null!=o&&a(o)}},n.createElement(Et,{size:"medium",placeholder:r.string("sng_search_reviews"),onChange:e=>{m(e.currentTarget.value),c(e.currentTarget.value)},onClear:()=>{c(""),a("")},value:o||"",searchButtonType:"submit"}))},Dl=e=>{var{popularMentions:t,onPopularMentionToggle:a,currentlySelected:i=[]}=e,l=Ii(e,["popularMentions","onPopularMentionToggle","currentlySelected"]),{localize:r}=$(),o=n.useMemo(()=>t.filter(Boolean).map(e=>({chipContent:e,keyValue:e,active:i.includes(e)})),[t,i]),[c,m]=n.useState(o);return n.useEffect(()=>{m(o)},[o]),n.createElement(n.Fragment,null,c&&c.length>0&&n.createElement("div",{className:de(ue(l))},n.createElement(Q,{variant:"title-05"},r("community_popular_mentions")),n.createElement(Le,{chipsData:c,onChange:e=>{var t=c.map(t=>Object.assign({},t,{active:t.keyValue===e?!t.active:t.active}));m(t),a(t.filter(e=>e.active).map(e=>e.keyValue))},displayOptions:{singleLineScrollMobile:!0,lineLimit:3},variant:"button",marginTop:"spacing-02"})))},Ml=e=>e.filter(Boolean).map(e=>{var t={id:e.name};switch(e.__typename){case"AppPresentation_MultiValueFilter":case"AppPresentation_EnumeratedValueFilter":return t.value=e.values?e.values.filter(Boolean).filter(e=>e.isSelected).map(e=>e.value):void 0,t;default:return console.error("Using unsupported filter:",e.__typename),t}}),Wl=e=>{switch(e.__typename){case"AppPresentation_SimpleTextFilterValue":return e.simpleText||"";case"AppPresentation_BubbleRatingFilterValue":return String(e.minimumRatingValue);default:return console.error(`[Fusion] ${e.__typename} is an incorrect FilterValueObjectFragment used in SingleSelectFilterGroup menu`),""}},zl=({filterValue:e,tooltip:t,onFilterChange:a})=>n.createElement("span",{className:"_2zcfIwym"},n.createElement(ft,{selected:e.isSelected,onClick:()=>a(e.value)},e.object&&""+Wl(e.object)),t&&n.createElement("span",{className:"_3k_g3tjx"},n.createElement(_t,{model:t}))),Gl=({filter:e,name:t,onFilterChange:a,onOpen:i})=>{var l,r=n.useMemo(()=>{var t;return(null==(t=e.values)?void 0:t.filter(Boolean).filter(e=>null!==e.object).map(e=>({displayName:""+Wl(e.object),value:e.value})))||[]},[e]),o=null==(l=e.values)?void 0:l.filter(Boolean).find(e=>!0===e.isSelected);return 0===r.length?null:n.createElement("div",{className:"KzNv-W1S"},n.createElement(Ve,{options:r,menuVariant:"trailing-top-caret",label:t,placeholder:t,value:null==o?void 0:o.value,onChange:a,onOpen:()=>i(e.title||"language"),trigger:"chip",fullscreenMobile:!0}),e.tooltip&&n.createElement(_t,{model:e.tooltip}))},Hl=({model:{filter:e,name:t},onFilterChange:a})=>{var i,l,[r,o]=n.useState(e),[c]=n.useState(e),{trackClick:m}=g(),s=void 0!==(null==c||null==(i=c.values)?void 0:i.filter(Boolean).find(e=>!0===e.isSelected)),d=n.useCallback(e=>{if(r){var t=((e,t,n)=>Object.assign({},e,{values:e.values&&e.values.filter(Boolean).map(e=>Object.assign({},e,{isSelected:n?e.value===t:e.value===t&&!e.isSelected}))||[]}))(r,e,s);m({clientContext:"select"+(t.title||"filter"),clientParameter:e}),a&&t&&(a(Ml([t])),o(t))}},[a,o,s,r,m]),u=n.useCallback(e=>{m({clientContext:e+"Filter"})},[m]),p=null==r||null==(l=r.values)?void 0:l.filter(Boolean);return 1!==(null==p?void 0:p.length)||s?r&&null!==t&&n.createElement(Gl,{filter:r,name:t,onFilterChange:d,onOpen:u}):p[0]&&n.createElement(zl,{filterValue:p[0],tooltip:null==r?void 0:r.tooltip,onFilterChange:d})},Vl=({model:e})=>{var{minimumRatingValue:t,typeName:a}=e;return t&&n.createElement(Ae,{rating:t/10})},jl=({model:e})=>{var{simpleText:t,typeName:a}=e;return n.createElement(Q,{variant:"body-01",elementType:"span"},t)},Ul=({model:e})=>{switch(e.__typename){case"AppPresentation_BubbleRatingFilterValue":return n.createElement(Yn,{model:e});case"AppPresentation_SimpleTextFilterValue":return n.createElement(Kn,{model:e});default:return n.createElement(_,{typename:e.__typename})}},Yl=({model:{count:e,object:t}})=>{var a=ee();return n.createElement("div",null,t&&n.createElement(qn,{model:t}),null!==e&&n.createElement(Q,{elementType:"span",variant:"body-01",marginLeft:"spacing-02"},"(",a.formatNumber("integer",e),")"))},Kl=({model:e,onFilterChange:t})=>{var{title:a,values:i,tooltip:l}=e,{localize:r}=$(),o=n.useCallback(n=>{if(t&&e.values){if(null===n)return void t();t(Object.assign({},e,{values:e.values.filter(Boolean).map(e=>Object.assign({},e,{isSelected:e.value===n}))}))}},[t,e]);if(null===i||0===i.length)return null;var c=i.filter(Boolean).find(e=>!0===e.isSelected),m=i.filter(Boolean).map(e=>{var t=null!==e.selectedAccessibilityString&&null!==e.selectedAccessibilityString.text?e.selectedAccessibilityString.text:r.string("sng_deselect_filter"),a=null!==e.unselectedAccessibilityString&&null!==e.unselectedAccessibilityString.text?e.unselectedAccessibilityString.text:r.string("sng_select_filter");return{chipContent:n.createElement(Jn,{model:e}),ariaLabel:e.isSelected?t:a,keyValue:""+e.value}});return n.createElement(n.Fragment,null,n.createElement("div",{className:"_3pnuonjW"},n.createElement(Q,{variant:"title-04",marginY:"spacing-03"},a),l&&n.createElement(_t,{model:l})),n.createElement(Ie,{chipsData:m,selectedValue:null==c?void 0:c.value,onChange:e=>o(e)}))},ql=({model:e,onFilterChange:t})=>{var{title:a,values:i}=e,{localize:l}=$(),r=n.useCallback(n=>{t&&e.values&&t(Object.assign({},e,{values:e.values.filter(Boolean).map(e=>Object.assign({},e,{isSelected:e.value===n.value?!e.isSelected:e.isSelected}))}))},[t,e]);return null!==i&&0!==i.length&&i.filter(Boolean).some(e=>null!==e.object)?n.createElement(n.Fragment,null,n.createElement(Q,{variant:"title-04",marginY:"spacing-03"},a),i.filter(Boolean).map(e=>{var t=e.selectedAccessibilityString&&e.selectedAccessibilityString.text?e.selectedAccessibilityString.text:l.string("sng_deselect_filter"),a=e.unselectedAccessibilityString&&e.unselectedAccessibilityString.text?e.unselectedAccessibilityString.text:l.string("sng_select_filter");return n.createElement(ft,{key:e.value,"aria-label":e.isSelected?t:a,selected:e.isSelected,disabled:0===e.count,onClick:()=>r(e),marginRight:"spacing-02",marginTop:"spacing-01",marginBottom:"spacing-01"},n.createElement(Jn,{model:e}))})):null},Jl=({model:e,onFilterChange:t})=>{switch(e.__typename){case"AppPresentation_MultiValueFilter":return n.createElement(Qn,{model:e,onFilterChange:t});case"AppPresentation_EnumeratedValueFilter":return n.createElement(Xn,{model:e,onFilterChange:t});default:return n.createElement(_,{typename:e.__typename})}},Xl=({model:e,onFilterChange:t,onFilterClear:a,filterModalOpen:i,setFilterModalOpen:l})=>{var{filters:r,name:o,tooltip:c}=e,[m,s]=n.useState(null===r?[]:r),{localize:d}=$(),{trackClick:u}=g();n.useEffect(()=>{s(null===r?[]:r)},[r]);var p,v=n.useCallback(()=>{l(!1);var e=Ml(m);t&&t(e),u({clientContext:"applyFilters",clientParameter:JSON.stringify(e)})},[u,t,m,l]),k=n.useCallback(()=>{l(!1),u({clientContext:"closeFilterModal"}),t&&t(Ml(m))},[u,t,m,l]),E=n.useCallback(()=>{u({clientContext:"resetFilters"}),a&&(s(m.filter(Boolean).map(e=>{var t=Object.assign({},e);switch(e.__typename){case"AppPresentation_MultiValueFilter":case"AppPresentation_EnumeratedValueFilter":return t.values=e.values?e.values.filter(Boolean).map(e=>{var t=Object.assign({},e);return t.isSelected=!1,t}):null,t;default:return console.error("Using unsupported filter:",e.__typename),null}})),a((e=>e.filter(Boolean).map(e=>e.name))(m)),l(!1))},[u,a,m,s,l]),f=e=>{if(u({clientContext:"selectFilter"}),e){var t=m.filter(Boolean).map(t=>t.name===e.name?e:t);s(t)}},_=(p=0,m.filter(Boolean).forEach(e=>{switch(e.__typename){case"AppPresentation_EnumeratedValueFilter":case"AppPresentation_MultiValueFilter":e.values&&(p+=e.values.map(e=>e&&e.isSelected?1:0).reduce((e,t)=>e+t,0));break;default:console.error("Using unsupported filter:",e.__typename)}}),p);return n.createElement(n.Fragment,null,n.createElement(ft,{"aria-label":i?d.string("sng_click_to_close_filter"):d.string("sng_click_to_open_filter"),onClick:()=>{u({clientContext:"filterChip"}),l(!0)},selected:_>0,marginRight:"spacing-02"},o,_>0&&n.createElement("span",{className:"_1Va7P-RM"},_)),i&&n.createElement(re,{title:d("filter_reviews"),onClose:k,variant:"fixed-height-sticky-footer",primaryButton:n.createElement(ne,{onClick:v},n.createElement(Z,{id:"sng_fusion_list_filters_modal_apply"})),secondaryButton:n.createElement(ae,{variant:"accent",onClick:E},n.createElement(Z,{id:"sng_fusion_list_filters_modal_reset"}))},m&&m.map((e,t)=>e&&n.createElement(Zn,{model:e,key:t,onFilterChange:f}))),c&&n.createElement(_t,{model:c}))},Ql=({model:e,onFilterChange:t,onFilterClear:a,filterModalOpen:i,setFilterModalOpen:l})=>{switch(e.__typename){case"AppPresentation_SingleSelectFilterGroup":return n.createElement(Un,{model:e,onFilterChange:t});case"AppPresentation_StandardFilterGroup":return n.createElement($n,{model:e,onFilterChange:t,onFilterClear:a,filterModalOpen:i,setFilterModalOpen:l});default:return n.createElement(_,{typename:e.__typename})}},Zl=e=>{var{model:t,onFilterChange:a,onFilterClear:i,filterModalOpen:l,setFilterModalOpen:r}=e,o=Ii(e,["model","onFilterChange","onFilterClear","filterModalOpen","setFilterModalOpen"]),{availableFilterGroups:c}=t;return n.createElement("div",{className:de(ue(o),"_1K_1nmPR")},n.createElement("div",{className:de(ue(o),"_1bwNMofq")},c&&c.map(e=>e&&n.createElement(ea,{key:e.name,model:e,onFilterChange:a,onFilterClear:i,filterModalOpen:l,setFilterModalOpen:r}))))},$l=(e,t)=>{var n,a;return(null==e||null==(n=e.find(e=>(null==e?void 0:e.inputKey)===t))||null==(a=n.inputValues)?void 0:a.filter(Boolean))||[]},er=({model:e,filterModalOpen:t,setFilterModalOpen:a})=>{var{filterResponse:i,keywords:l,searchFilterId:r}=e,{state:{detailRequest:{clientState:o}},dispatch:c}=y(),{trackClick:m}=g();return n.createElement("div",{className:"_13nAUAiT"},n.createElement("div",{className:"_2szbqBSc"},n.createElement(Bl,{onSubmit:e=>{null!==r&&(c({type:"updateReviewFilters",filters:[{inputKey:r,inputValues:[e]}]}),m({clientContext:"search",clientParameter:e}))},initialSearchQuery:$l(null==o?void 0:o.userInput,r).join(", "),debounceTime:500})),i&&n.createElement("div",{className:"_3sImnVR5"},n.createElement(ta,{model:i,filterModalOpen:t,setFilterModalOpen:a,onFilterChange:e=>{if(null!==r){var t=e.filter(Boolean).map(e=>({inputKey:e.id,inputValues:e.value}));c({type:"updateReviewFilters",filters:t})}},onFilterClear:e=>{c({type:"removeReviewFilters",filtersToRemove:e})}})),l&&n.createElement(Dl,{popularMentions:l,currentlySelected:$l(null==o?void 0:o.userInput,r),onPopularMentionToggle:e=>{m({clientContext:"popularMention",clientParameter:e.join("_")}),c({type:"updateReviewFilters",filters:[{inputKey:r,inputValues:e}]})}}))},tr=({model:{filterResetLink:e,message:t}})=>{var{dispatch:a}=y(),{trackClick:i}=g(),l=e?ve(e):null;return n.createElement(n.Fragment,null,null!==t&&n.createElement(Q,{variant:"body-01"},n.createElement(oe,{model:t})),(null==l?void 0:l.text)&&n.createElement(ae,{onClick:()=>{i({clientContext:null!==l.trackingContext&&""!==l.trackingContext?l.trackingContext:"resetReviewFilters"}),a({type:"resetReviewFilters"})},marginTop:"spacing-03"},n.createElement(oe,{model:l.text})))},nr=({ratingRatio:e,label:t,ratingCountLabel:a,isSelected:i})=>{var l={flex:e+" 1 auto"},r={flex:1-e+" 0 auto"};return n.createElement("div",{className:"_1P_xnQHX"},n.createElement("div",{className:de("WY5Y6wqe","YebI8l9m")},n.createElement(Q,{variant:"supporting-01"},t)),n.createElement("div",{className:de("WY5Y6wqe","_1oSDePFl")},n.createElement("div",{className:"_21wQAOaJ"},!!e&&n.createElement("div",{className:de("usHr73ku",{RJfVawn8:!i}),style:l}),n.createElement("div",{className:"M5ytprQk",style:r},n.createElement(Q,{variant:"supporting-02"},a)))))},ar=({model:{count:e,isSelected:t,label:a,percentage:i}})=>n.createElement(n.Fragment,null,null!==i&&a&&e&&n.createElement(nr,{ratingRatio:i/100,label:n.createElement(oe,{model:a}),ratingCountLabel:n.createElement(oe,{model:e}),isSelected:t||!1})),ir=({model:{averageBar:e,excellentBar:t,poorBar:a,terribleBar:i,veryGoodBar:l},onClick:r})=>{var o=yt(),{localize:c}=$(),m=r?e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r())}:void 0,s=Object.assign({onClick:r,onKeyPress:m},r?{tabIndex:0,"aria-label":c.string("filter_reviews"),className:p("_2nzzmPXl",o)}:void 0);return n.createElement("div",s,t&&n.createElement(ia,{model:t}),l&&n.createElement(ia,{model:l}),e&&n.createElement(ia,{model:e}),a&&n.createElement(ia,{model:a}),i&&n.createElement(ia,{model:i}))},lr=({model:e})=>n.createElement("div",{className:"aps-component"},n.createElement(St,{message:"AppPresentation_AttractionSubRating",jira:"TODO",valueToDump:e})),rr=({rating:e,subRatingLabel:t})=>n.createElement("div",null,n.createElement("div",{className:"Dikuyzol"},n.createElement("span",{className:"_21oFIFqG"},n.createElement(Oe,{name:"bubble-full",color:"bubbleIcon",size:16})),n.createElement(Q,{variant:"title-05",elementType:"span"},Math.round(2*e)/2)),n.createElement(Q,{variant:"body-01"},t)),or=({model:{data:e}})=>n.createElement(n.Fragment,null,(null==e?void 0:e.subRatings)&&n.createElement("div",{className:"_1_jsAllW"},null!==e.subRatings.location&&n.createElement(rr,{rating:e.subRatings.location,subRatingLabel:n.createElement(Z,{id:"ur_question.prompt.47"})}),null!==e.subRatings.cleanliness&&n.createElement(rr,{rating:e.subRatings.cleanliness,subRatingLabel:n.createElement(Z,{id:"ur_question.prompt.14"})}),null!==e.subRatings.service&&n.createElement(rr,{rating:e.subRatings.service,subRatingLabel:n.createElement(Z,{id:"rd_userrating.prompt.12"})}),null!==e.subRatings.value&&n.createElement(rr,{rating:e.subRatings.value,subRatingLabel:n.createElement(Z,{id:"ur_question.prompt.13"})}))),cr=({model:e})=>n.createElement("div",{className:"aps-component"},n.createElement(St,{message:"AppPresentation_RestaurantSubRating",jira:"TODO",valueToDump:e})),mr=({model:e})=>{switch(e.__typename){case"AppPresentation_AttractionSubRating":return n.createElement(ra,{model:e});case"AppPresentation_HotelSubRating":return n.createElement(oa,{model:e});case"AppPresentation_RestaurantSubRating":return n.createElement(ca,{model:e});default:return n.createElement(_,{typename:e.__typename})}},sr=({model:e,onClick:t})=>{var{rating:a,ratingCounts:i,reviewCountText:l,subRatings:r,tooltip:o}=e,c=l&&n.createElement(oe,{model:l});return n.createElement("div",{className:"lNyfxzGc"},o&&n.createElement("div",{className:"_1I9KxBMn"},n.createElement(_t,{model:o})),n.createElement("div",{className:"_3TrUt7dh"},null!==a&&n.createElement(Q,{variant:"title-03",marginRight:"spacing-02"},a.toFixed(1)),c&&null!==a&&n.createElement(Te,{rating:a,label:c,size:"medium"})),i&&n.createElement("div",{className:"_39NPmHPE"},n.createElement(la,{model:i,onClick:t})),r&&n.createElement(ma,{model:r}))},dr=({model:e,filterModalOpen:t,setFilterModalOpen:a})=>{switch(e.__typename){case"AppPresentation_NoContentFallbackCard":return n.createElement(Mn,{model:e});case"AppPresentation_QuestionAndAnswerCard":return n.createElement(Dn,{model:e});case"AppPresentation_ReviewCardWeb":return n.createElement(jn,{model:e});case"AppPresentation_ReviewsFilterCardWeb":return n.createElement(na,{model:e,filterModalOpen:t,setFilterModalOpen:a});case"AppPresentation_ReviewsNoFilterResultsCardWeb":return n.createElement(aa,{model:e});case"AppPresentation_ReviewsSummaryCardWeb":return n.createElement(sa,{model:e,onClick:()=>a(!0)});case"AppPresentation_SingleActionCard":return n.createElement(it,{model:e});case"AppPresentation_PartialUpdatePaginationLinksListWeb":return n.createElement(Ln,{model:e});default:return n.createElement(_,{typename:e.__typename})}},ur=({model:e})=>{var{content:t,seeMore:a}=e,i="MOBILE"===n.useContext(R).viewportCategory,{trackClick:l}=g();if(null===t||0===t.length||!t.some(Boolean))return null;var r=a?ve(a):null,o=t.filter(Boolean).slice(0,i?5:void 0).map((e,t)=>n.createElement(da,{key:t,model:e,filterModalOpen:!1,setFilterModalOpen:()=>{}}));return n.createElement("div",null,n.createElement(vr,{separatorToBeInserted:n.createElement(xe,{marginY:"spacing-05"}),emptyState:n.createElement(tt,null)},o),null!=(null==r?void 0:r.text)&&null!=r.url&&n.createElement(ne,{fullWidth:i,size:"large",variant:"secondary",href:r.url,onClick:()=>{l({clientContext:r.trackingContext})}},n.createElement(oe,{model:r.text})))},pr=({model:{content:e},leftHandRailAds:t})=>{var a,i="MOBILE"===n.useContext(R).viewportCategory,{localize:l}=$(),{scrollOffset:r}=T(),[o,c]=n.useState(!1),[m,s]=n.useState(!1),{state:{detailRequest:d}}=y(),{loading:u,polling:p}=n.useContext(S);if(null===e||0===e.length||!e.some(Boolean))return null;var v,g=e.filter(Boolean).find(e=>"AppPresentation_ReviewsSummaryCardWeb"===e.__typename),k=e.filter(Boolean).find(e=>"AppPresentation_ReviewsFilterCardWeb"===e.__typename),E=n.createElement("div",{className:de(ue({marginBottom:"spacing-06"}),"_3E_G6YVf")},n.createElement(Fe,{variant:"large","aria-label":l.string("sng_results_loading")})),f=!(null==(a=d.routeParameters)?void 0:a.pagee),_=i&&f&&!o,N=0,b=e.filter(Boolean).filter(e=>"AppPresentation_ReviewsSummaryCardWeb"!==e.__typename&&"AppPresentation_ReviewsFilterCardWeb"!==e.__typename&&"AppPresentation_ReviewCard"!==e.__typename).map((e,t)=>{if(_){if("AppPresentation_ReviewCardWeb"===e.__typename){if(N>=5)return!1;N++}if("AppPresentation_PartialUpdatePaginationLinksListWeb"===e.__typename&&N>=5)return!1}return n.createElement(da,{key:t,model:e,filterModalOpen:m,setFilterModalOpen:s})}).filter(Boolean);return n.createElement("div",{className:"s9fmZ3Ar"},n.createElement("div",{className:"_60S68jeT"},k&&n.createElement(da,{model:k,filterModalOpen:m,setFilterModalOpen:s})),n.createElement("div",{className:"AN_QidlI"},n.createElement(xe,{marginY:"spacing-03"})),n.createElement("div",{className:"_2BKpn4CT"},g&&n.createElement(da,{model:g,filterModalOpen:m,setFilterModalOpen:s}),n.createElement("div",{className:"_16BHgopH"},(null==t?void 0:t[0])&&n.createElement(L,Object.assign({model:t[0],offsetTop:r},{firstAdSize:"300x250|300x600",secondAdPosition:"LEFT_HAND_RAIL_DTC"===(null==(v=t[1])?void 0:v.adType)?"RailNova":void 0,secondAdSize:v?"300x250|300x600":void 0})))),n.createElement("div",{className:"AN_QidlI"},n.createElement(xe,{marginY:"spacing-03"})),n.createElement("div",{className:"_1c8_1ITO"},u&&!p&&E,!u&&n.createElement(n.Fragment,null,n.createElement(vr,{separatorToBeInserted:n.createElement(xe,{marginY:"spacing-05"}),emptyState:n.createElement(tt,null)},b),_&&n.createElement(ne,{fullWidth:i,size:"large",variant:"secondary",onClick:()=>c(!0),marginTop:"spacing-04"},l.string("attractions.merchandising.see-more")))))},vr=({children:e,separatorToBeInserted:t,emptyState:a})=>n.Children.count(e)>0?n.Children.map(e,(e,a)=>n.createElement("div",{key:a},a>0&&t,e)):(console.error("[Fusion] UGC review list error was displayed"),n.createElement(n.Fragment,null,a)),gr=({model:e,leftHandRailAds:t})=>{var{content:a}=e;return null!==a&&0!==a.length&&a.some(Boolean)?a.filter(Boolean).find(e=>"AppPresentation_ReviewsSummaryCardWeb"===e.__typename)?n.createElement(pa,{model:e,leftHandRailAds:t}):n.createElement(ua,{model:e}):null},kr=e=>"tab-qa-reviews-"+String(e),Er=e=>"tab-data-qa-reviews-"+String(e),fr=({model:{tabs:e},leftHandRailAds:t})=>{var{trackClick:a}=g(),i=null==e?void 0:e.findIndex(e=>!0===(null==e?void 0:e.initialTab)),[l,r]=n.useState(i);return e&&n.createElement(n.Fragment,null,n.createElement("section",{id:"REVIEWS"},n.createElement($e,{value:l,onChange:e=>{a({clientContext:0===e?"reviewTab":"qaTab"}),r(e)}},e.filter(Boolean).map((e,t)=>n.createElement(et,{value:t,titleTypographyVariant:"title-03",id:kr(t),key:kr(t),ariaControls:Er(t)},e.tabTitle&&n.createElement(oe,{model:e.tabTitle})))),n.createElement("section",null,e.filter(Boolean).map((e,a)=>n.createElement("div",{hidden:l!==a,key:Er(a),id:Er(a)},n.createElement(va,{model:e,leftHandRailAds:t}))))))},_r=({model:e})=>{var{text:t,iconName:a,subText:i}=e;return n.createElement(n.Fragment,null,"deals"===a&&n.createElement(Oe,{name:a}),null!=a&&""!==a&&n.createElement("span",null,"icon - ",a),n.createElement(Q,{variant:"title-05"},n.createElement(oe,{model:t})),null!=i&&""!==i&&n.createElement(Q,{variant:"body-01"},i))},yr=({model:e,staticMap:t,nearbyLocations:a})=>{var{trackClick:i}=g(),{mapControl:l,PoiMapEntrypoint:r}=Nt(),o=n.useCallback(()=>{i({clientContext:"closeMap"}),l.hide()},[i,l]),c=!(e||a&&0!==a.length),m=a&&1===a.length;return c&&!t?null:n.createElement(n.Fragment,null,n.createElement(Q,{variant:"title-03",marginBottom:"spacing-03"},n.createElement(Z,{id:"phoenix_poi_location_title"})," "),n.createElement("div",{className:de("_34Kwgxeu",{_2J2_BRTy:c})},n.createElement("div",{className:"Uxq2mgbm"},e&&n.createElement(z,{model:e,suppressTitle:!0})),n.createElement("div",{className:"_2q_VBf1A"},t&&n.createElement(q,{model:t,fullWidth:c})),a&&a.length>0&&n.createElement("div",{className:"delqpxc9"},a.filter(Boolean).map(e=>n.createElement(G,{model:e,key:e.trackingTitle,showTitle:m}))),(e||t)&&n.createElement(r,{onClose:o})))},Sr=({model:e,actions:t})=>{switch(e.__typename){case"AppPresentation_PoiCommerceAttractionWeb":return n.createElement(rn,{model:e,setFusionDates:t.setAttractionsDates});case"AppPresentation_PoiCommerceAttractionProductWeb":return n.createElement(on,{model:e,setFusionDates:t.setAttractionsDates});case"AppPresentation_PoiCommerceHotelWeb":return n.createElement(sn,{model:e});case"AppPresentation_PoiCommerceRestaurant":return n.createElement(vn,{model:e});default:return null}},Nr=({model:e})=>{switch(e.__typename){case"AppPresentation_PoiHeroStandard":return n.createElement(U,{model:e});default:return null}},br=({model:e,media:t,about:a,reviewSnippets:i,actions:l})=>{var{sectionRefMapping:r}=T(),o=a?r.get(a.__typename):void 0;return n.createElement("div",{className:"_1KYY4mCb"},(e||a||i)&&n.createElement("div",{className:"_1VhVIxmz"},a&&n.createElement("div",{className:"_3oLzChyG",ref:o},n.createElement(Y,{model:a})),i&&n.createElement("div",{className:"_3oLzChyG"},n.createElement(In,{model:i})),e&&n.createElement("div",{className:"_29B757Wf"},n.createElement(Sr,{model:e,actions:l}))),n.createElement("div",{className:"mj0v-Y2H"},t&&n.createElement(Nr,{model:t})))},Cr=({model:e,actions:t,leftHandRailAds:a})=>{switch(e.__typename){case"AppPresentation_AlertSection":return null;case"AppPresentation_AttractionProductItinerary":return n.createElement(Pa,{model:e});case"AppPresentation_DisclaimerSection":return n.createElement(O,{model:e});case"AppPresentation_EditorialWideCardsCarousel":return n.createElement(D,{model:e});case"AppPresentation_ImportantInformationWeb":return n.createElement(Tt,{model:e});case"AppPresentation_LogicalBreak":return null;case"AppPresentation_MediumCardsCarousel":return n.createElement(M,{model:e});case"AppPresentation_NarrowCardsCarousel":return n.createElement(W,{model:e});case"AppPresentation_PoiAboutWeb":return n.createElement(K,{model:e});case"AppPresentation_PoiCommerceAttractionWeb":return n.createElement(rn,{model:e,setFusionDates:t.setAttractionsDates});case"AppPresentation_PoiCommerceAttractionProductWeb":return n.createElement(on,{model:e,setFusionDates:t.setAttractionsDates});case"AppPresentation_PoiCommerceHotelWeb":return n.createElement(sn,{model:e});case"AppPresentation_PoiCommerceRestaurant":return n.createElement(vn,{model:e});case"AppPresentation_PoiContribute":return n.createElement(gn,{model:e});case"AppPresentation_PoiHealthSafetyWeb":return n.createElement(bn,{model:e});case"AppPresentation_PoiHeroStandard":return n.createElement(U,{model:e});case"AppPresentation_PoiHoursWeb":return n.createElement(hn,{model:e});case"AppPresentation_PoiImproveThisListing":return n.createElement(Tn,{model:e});case"AppPresentation_PoiLocation":return n.createElement(z,{model:e});case"AppPresentation_PoiMenu":return n.createElement(xn,{model:e});case"AppPresentation_PoiNearbyLocationsWeb":return n.createElement(G,{model:e});case"AppPresentation_PoiOverviewWeb":return n.createElement(wn,{model:e});case"AppPresentation_PoiReviewsAndQAWeb":return n.createElement(ga,{model:e,leftHandRailAds:a});case"AppPresentation_PoiReviewSnippetsWeb":return n.createElement(In,{model:e});case"AppPresentation_PoiSpecialOffer":return n.createElement(ka,{model:e});case"AppPresentation_StaticMapSection":return n.createElement(q,{model:e});case"AppPresentation_TabbedSection":return n.createElement(J,{model:e});case"AppPresentation_WideCardsCarousel":return n.createElement(X,{model:e});case"InlineAdSection":return n.createElement(L,{model:e.model,inlineAdCounter:e.inlineAdCounter});case"GroupedSection_PoiLocation":return n.createElement(Ea,{model:e.location,staticMap:e.staticMap,nearbyLocations:e.nearbyLocations});case"GroupedSection_PoiHeroSection":return n.createElement(fa,{model:e.merchandising,about:e.about,media:e.media,reviewSnippets:e.reviewSnippets,actions:t});default:return n.createElement(_,{typename:e.__typename})}},Pr=e=>"AppPresentation_PoiLocation"===(null==e?void 0:e.__typename),Fr=e=>"AppPresentation_StaticMapSection"===(null==e?void 0:e.__typename),hr=e=>"AppPresentation_PoiNearbyLocationsWeb"===(null==e?void 0:e.__typename),Tr=e=>"AppPresentation_PoiAboutWeb"===(null==e?void 0:e.__typename),Ar=e=>"AppPresentation_PoiReviewSnippetsWeb"===(null==e?void 0:e.__typename),xr=e=>"AppPresentation_PoiCommerceAttractionWeb"===(null==e?void 0:e.__typename)||"AppPresentation_PoiCommerceAttractionProductWeb"===(null==e?void 0:e.__typename)||"AppPresentation_PoiCommerceHotelWeb"===(null==e?void 0:e.__typename)||"AppPresentation_PoiCommerceRestaurant"===(null==e?void 0:e.__typename),wr=e=>"AppPresentation_PoiHeroStandard"===(null==e?void 0:e.__typename),Rr=e=>"AppPresentation_AttractionProductItinerary"===(null==e?void 0:e.__typename),Ir=e=>"AppPresentation_AdPlaceholder"===(null==e?void 0:e.__typename)&&"INLINE"===e.adType,Lr=({sections:e})=>e.filter(e=>!(e=>"AppPresentation_LogicalBreak"===(null==e?void 0:e.__typename))(e)),Or=({sections:e})=>{var t=-1;return e.map(e=>"AppPresentation_AdPlaceholder"!==(null==e?void 0:e.__typename)||"INLINE"!==e.adType&&"INLINE_DTC"!==e.adType?e:("INLINE"===e.adType&&t++,{__typename:"InlineAdSection",model:e,inlineAdCounter:t}))},Br=({sections:e,contentType:t})=>{var n=e.find(xr),a=e.find(wr),i=t===b?e.find(Tr):null,l=e.find(Ar);if(!(n||i||l||a))return e;var r=n?e.indexOf(n):e.indexOf(a);if(r<0)return e;var o={__typename:"GroupedSection_PoiHeroSection",merchandising:xr(n)?n:null,media:wr(a)?a:null,about:Tr(i)?i:null,reviewSnippets:Ar(l)?l:null};return e.slice(0,r).concat(o).concat(e.slice(r+1)).filter(e=>(!i||i&&!Tr(e))&&!Ar(e)&&!xr(e)&&!wr(e))},Dr=({sections:e})=>{var t=e.find(Pr),n=e.find(Fr),a=e.reduce((e,t)=>hr(t)?[...e,t]:e,[]);if(!t&&!n&&0===a.length)return e;var i=e.findIndex(e=>Pr(e)||Fr(e)||hr(e)),l={__typename:"GroupedSection_PoiLocation",location:Pr(t)?t:void 0,staticMap:Fr(n)?n:void 0,nearbyLocations:a};return e.slice(0,i).concat(l).concat(e.slice(i+1)).filter(e=>!Pr(e)&&!Fr(e)&&!hr(e))},Mr=({sections:e,contentType:t,hasItineraryModel:n})=>{if(!e||t!==C||!n||e.find(Rr))return e;var a=e.findIndex(Ir);return a<0?e:e.slice(0,a+1).concat({__typename:"AppPresentation_AttractionProductItinerary"}).concat(e.slice(a+1))},Wr=e=>"ATTRACTION_WAYS_TO_EXPERIENCE"===e.clusterId?e.clusterId:e.__typename?e.__typename:"",zr=()=>{var[{page:e}]=a.useContext(I);return"AttractionProductReview"!==e?null:a.createElement("section",{className:"_2eAee_RP","data-automation":"aboutTheOperatorSection"},a.createElement(bt,null))},Gr=({overviewModel:e,saveShare:t,seeAll:a})=>{var{viewportCategory:i}=n.useContext(R),l=Ct();if(null===e)return null;var r=null==l?void 0:l.MAIN_H1,{rating:o}=e;return n.createElement("div",{className:"CSF0QKvi"},n.createElement("div",{className:"ysBtdmbY"},null!=a&&n.createElement(Q,{elementType:"div",variant:"button-02"},a)),n.createElement("div",{className:"WKCkt8I-"},"MOBILE"!==i&&null!=r&&n.createElement(n.Fragment,null,n.createElement(Q,{elementType:"div",variant:"title-04",lineClamp:1},r),null!==o&&o>0&&n.createElement(Q,{elementType:"div",variant:"title-04"},n.createElement("span",{className:"Ijeu8kZH"},n.createElement(Oe,{name:"bubble-full",color:"bubbleIcon"}),o))),null!==t&&n.createElement("div",{className:"qUOqi0Kh"},t)))},Hr=()=>{var{viewportCategory:e}=n.useContext(R),{persistentCommerce:t}=A(),{ctaButtonProps:a,priceText:i}=t,l=a&&n.createElement(ne,Object.assign({},a,{size:"small"}));return"MOBILE"===e||null==i&&null==l?null:n.createElement("div",{className:"_1JJe2Ljx"},null!=i&&n.createElement("span",{className:"_2PXoT6jo"},n.createElement(Q,{elementType:"span",variant:"title-05"},i)),l)},Vr=({sectionRefToTypenameMapping:e,scrollCallback:t,activeIdx:a})=>n.createElement($e,{value:a},e.filter(e=>e.ref.current).map((e,a)=>n.createElement(et,{value:a,titleTypographyVariant:"title-05",id:"sticky-tab-"+String(a),key:e.typename,ariaControls:"tab-data-"+e.typename,onActive:()=>t(e.ref)},(e=>{switch(e){case"AppPresentation_PoiHealthSafetyWeb":return n.createElement(Z,{id:"covid19_safety_tab"});case"AppPresentation_PoiAboutWeb":return n.createElement(Z,{id:"hr_btf_about_header"});case"AppPresentation_ImportantInformationWeb":return n.createElement(Z,{id:"phoenix_poi_important_info_title"});case"AppPresentation_AttractionProductItinerary":return n.createElement(Z,{id:"phoenix_poi_itinerary_title"});case"GroupedSection_PoiLocation":return n.createElement(Z,{id:"phoenix_poi_location_title"});case"AppPresentation_PoiReviewsAndQAWeb":return n.createElement(Z,{id:"tabs_reviews_fffff660"});default:return null}})(e.typename)))),jr=["AppPresentation_PoiHealthSafetyWeb","AppPresentation_PoiAboutWeb","AppPresentation_ImportantInformationWeb","AppPresentation_AttractionProductItinerary","GroupedSection_PoiLocation","AppPresentation_PoiReviewsAndQAWeb"],Ur=({anchorRef:e,sectionRefToTypenameMapping:t,saveShare:a,seeAll:i,sectionModels:l})=>{var{viewportCategory:r}=n.useContext(R),{persistentCommerce:o={}}=A(),{ctaButtonProps:c}=o;if(null===l||void 0!==l&&l.length<=0)return null;var m=jr.map(e=>{var n=t.get(e);return n?{typename:e,ref:n}:null}).filter(Boolean),s=m.map(e=>e.ref),d=(null==l?void 0:l.find(e=>"AppPresentation_PoiOverviewWeb"===(null==e?void 0:e.__typename)))||null,u="MOBILE"===r&&c?n.createElement(ne,Object.assign({},c,{fullWidth:!0})):void 0;return n.createElement(h,{anchorRef:e,tabBar:(e,t)=>n.createElement(Na,{sectionRefToTypenameMapping:m,scrollCallback:e,activeIdx:t}),tabSectionRefs:s,aboveTabContent:()=>n.createElement(Sa,{overviewModel:d,seeAll:i,saveShare:a}),inlineNonTabContent:()=>n.createElement(Hr,null),footerContent:u})},Yr={section:"pvwBUY7l",wideCardsCarouselWrapper:"_1TGW7lo-",poiOverviewWebWrapper:"_2DKKDMwB",inlineAdSectionWrapper:"_3BhsUbob"},Kr=["GroupedSection_PoiHeroSection","AppPresentation_PoiCommerceAttractionWeb","AppPresentation_PoiCommerceAttractionProduct","AppPresentation_PoiCommerceHotelWeb","AppPresentation_PoiCommerceRestaurant"],qr=["AppPresentation_PoiHealthSafetyWeb","AppPresentation_PoiAboutWeb","GroupedSection_PoiLocation","AppPresentation_PoiReviewsAndQAWeb"],Jr=["AppPresentation_PoiHoursWeb"],Xr=["AppPresentation_PoiHealthSafetyWeb"],Qr=e=>{var t=e.replace(/AppPresentation_/g,"");return t.charAt(0).toLowerCase()+t.slice(1)},Zr=({detailSection:e,sectionRef:t,stickyBarAnchorRef:a,isDesktop:i,leftHandRailAds:l,actions:r})=>{var o=e.__typename,c=Kr.includes(o),m=qr.includes(o),s=i&&Jr.includes(o)?null:n.createElement(_a,{model:e,leftHandRailAds:l,actions:r}),d=Xr.includes(o)?n.Fragment:v;return s&&n.createElement("section",{ref:c?a:void 0,className:p(Yr.section,Yr[Qr(o+"Wrapper")])},n.createElement(d,null,n.createElement("div",{ref:t,id:m?"tab-data-"+o:void 0,className:Yr[Qr(o)],"data-automation":o},s)))},$r=({model:e,actions:t})=>{var{container:i,detailSections:l,skippedSections:r}=e,{state:o}=y(),{viewportCategory:c}=n.useContext(R),m="MOBILE"!==c,s=d(),p=u(),g=null!=s||null!=p,k=n.useMemo(()=>((e,t,n)=>{if(!e)return[];var{contentType:a}=t;return ya.reduce((e,t)=>t({sections:e,contentType:a,hasItineraryModel:n}),e).filter(Boolean)})(l,o,g),[l,o,g]),E=n.createRef(),f=n.useMemo(()=>k.reduce((e,t)=>{var n=Wr(t);if(n&&(e.set(n,a.createRef()),(e=>"GroupedSection_PoiHeroSection"===(null==e?void 0:e.__typename))(t))){var i,l=null==(i=t.about)?void 0:i.__typename;void 0!==l&&l.length>0&&e.set(l,a.createRef())}return e},new Map),[k]);return n.createElement(x,null,n.createElement(w,{sectionRefMapping:f},n.createElement("div",null,n.createElement(ba,{anchorRef:E,sectionRefToTypenameMapping:f,saveShare:i?n.createElement(P,{model:i,useSmallIcons:!0}):null,seeAll:(null==i?void 0:i.seeAllLink)?n.createElement(F,{seeAllLink:i.seeAllLink}):null,sectionModels:k}),k.filter(e=>"AppPresentation_AlertSection"!==e.__typename).map((e,a)=>{var l;return n.createElement(Zr,{key:a,detailSection:e,sectionRef:f.get(Wr(e)),stickyBarAnchorRef:E,isDesktop:m,actions:t,leftHandRailAds:(null==i||null==(l=i.webAds)?void 0:l.leftHandRailAd)?[i.webAds.leftHandRailAd,i.webAds.secondLeftHandRailAd].filter(Boolean):void 0})}).filter(Boolean),n.createElement("div",{className:Yr.section},n.createElement(v,null,n.createElement(zr,null))),r&&r.map(e=>n.createElement(_,{key:e,typename:e})))))};return[()=>{Pt=te.component.onUsage(()=>t("xnEohZ"),"Itinerary"),Ft=te.component.onUsage(()=>t("xnEohZ"),"MDTItinerary"),ht=k(Fa),Tt=k(ha),At=a.createContext({onSelectTicket:()=>{},setTicketInfo:()=>{},onSelectTourGrade:()=>{},selectedTourGrade:null,onError:()=>{}}),xt=k(wa),wt=f(Da),Rt=k(Ma),It=k(Wa),Lt=k(Ga),(Ot=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"QueryStatusFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_QueryResponseStatus"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"message"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"pollingStatus"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"delayForNextPollInMillis"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"updateToken"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"success"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"partial"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":177}}')).__key=0x9fb5520f1fc,(Bt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"LocalizedStringFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_LocalizedString"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"text"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":136}}')).__key=0xd3dcea4fdc41,(Dt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"Routing_TypedRouteParamsFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Routing_TypedRouteParams"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Routing_AttractionCommerceParameters"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"contentId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"contentType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"filters"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"pagee"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"state"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":339}}')).__key=22792507696122,(Mt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"Routing_RouteFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Routing_Route"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"page"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"typedParams"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Routing_TypedRouteParamsFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"webLinkUrl"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"fragment"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":301}}')).__key=0x5fc58465f0c6,Mt.definitions=Mt.definitions.concat(Dt.definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!Ka[t]&&(Ka[t]=!0,!0)}))),(Wt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"InternalLinkFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_InternalLink"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"linkType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"trackingContext"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"route"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Routing_RouteFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"text"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"webRoute"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Routing_RouteFragment"},"directives":[]}]}}]}}],"loc":{"start":0,"end":410}}')).__key=25047327916260,Wt.definitions=Wt.definitions.concat(Ja(Mt.definitions)),Wt.definitions=Wt.definitions.concat(Ja(Bt.definitions)),(zt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"LabelFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_Label"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_AccentedLabel"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"text"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_MichelinLabel"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"text"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"michelinAwardType"},"arguments":[],"directives":[]}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_PlusLabel"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"text"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_PrimaryLabel"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"text"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_SecondaryLabel"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"text"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_SponsoredLabel"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"text"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":763}}')).__key=99602350618749,zt.definitions=zt.definitions.concat(function(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!Xa[t]&&(Xa[t]=!0,!0)}))}(Bt.definitions)),(Gt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"PoiTicketFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_PoiTicket"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"clusterId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"description"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"price"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"linkV2"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"InternalLinkFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"productDetailsLink"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"InternalLinkFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"reviewCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"reviewRating"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sectionType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"trackingKey"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"trackingTitle"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"labels"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LabelFragment"},"directives":[]}]}}]}}],"loc":{"start":0,"end":575}}')).__key=0x932d26b4e932,Gt.definitions=Gt.definitions.concat(Za(Wt.definitions)),Gt.definitions=Gt.definitions.concat(Za(Bt.definitions)),Gt.definitions=Gt.definitions.concat(Za(zt.definitions)),(Ht=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"PoiTicketsFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_PoiTickets"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"clusterId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sectionType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"stableDiffingType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"subTitle"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"tickets"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"PoiTicketFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"trackingKey"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"trackingTitle"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":408}}')).__key=0xfb5ca759eab5,Ht.definitions=Ht.definitions.concat(ei(Bt.definitions)),Ht.definitions=Ht.definitions.concat(ei(Gt.definitions)),(Vt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"PassengerInfoFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_PassengerInfo"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ageBands"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ageBand"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"count"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"endAge"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"maxTravelersPerBooking"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"minTravelersPerBooking"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"startAge"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"maxTravelersForBooking"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"requiresAdultForBooking"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":244}}')).__key=56985651718925,(jt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"AttractionProductDatePickerConfigurationFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_AttractionProductDatePickerConfiguration"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"passengerInfo"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"PassengerInfoFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"priceCalendar"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"date"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"price"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":441}}')).__key=6475895378700,jt.definitions=jt.definitions.concat(ni(Bt.definitions)),jt.definitions=jt.definitions.concat(ni(Vt.definitions)),(Ut=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"HotelDatePickerConfigurationFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_HotelDatePickerConfiguration"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"maxAdultsPerRoom"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"maxChildrenPerRoom"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"maxRooms"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"maxStayLength"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":186}}')).__key=0xfec8cd17c8bb,(Yt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"DatePickerFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_DatePicker"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"configuration"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_AttractionProductDatePickerConfiguration"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"AttractionProductDatePickerConfigurationFragment"},"directives":[]}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_HotelDatePickerConfiguration"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"HotelDatePickerConfigurationFragment"},"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"lastSelectableDate"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":494}}')).__key=0x6b8760ba8d42,Yt.definitions=Yt.definitions.concat(ii(jt.definitions)),Yt.definitions=Yt.definitions.concat(ii(Ut.definitions)),(Kt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"JoinedLocalizableObjectsFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_JoinedLocalizableObjects"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"text"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":141}}')).__key=5132520784411,(qt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"TourGradesHeaderFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_TourGradesHeader"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"datePicker"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"DatePickerFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"productDescription"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"productName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"tags"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"JoinedLocalizableObjectsFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"labels"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LabelFragment"},"directives":[]}]}}]}}],"loc":{"start":0,"end":490}}')).__key=0x996763ea655f,qt.definitions=qt.definitions.concat(ri(Yt.definitions)),qt.definitions=qt.definitions.concat(ri(Kt.definitions)),qt.definitions=qt.definitions.concat(ri(zt.definitions)),(Jt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"RnplEligibilityFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_ReserveNowPayLaterEligibility"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isEligible"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ineligibleReason"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}}]}}],"loc":{"start":0,"end":256}}')).__key=0x65125a9e9f05,Jt.definitions=Jt.definitions.concat(function(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!oi[t]&&(oi[t]=!0,!0)}))}(Bt.definitions)),(Xt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"AvailableTimedEntryOptionFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_AvailableTimedEntryOption"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"entryType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"startTime"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"detailedPrice"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"totalPrice"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"webviewCheckout"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"addToCartUrl"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"checkoutUrl"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"addToCartPayload"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"rnplCheckoutUrl"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"rnplEligibility"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"RnplEligibilityFragment"},"directives":[]}]}}]}}],"loc":{"start":0,"end":514}}')).__key=0xa9a24a507615,Xt.definitions=Xt.definitions.concat(mi(Bt.definitions)),Xt.definitions=Xt.definitions.concat(mi(Jt.definitions)),(Qt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"UnavailableTimedEntryOptionFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_UnavailableTimedEntryOption"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"entryType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"startTime"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":141}}')).__key=0x852065e7c884,(Zt=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"TimedEntryOptionFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_TimedEntryOption"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_AvailableTimedEntryOption"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"AvailableTimedEntryOptionFragment"},"directives":[]}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_UnavailableTimedEntryOption"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"UnavailableTimedEntryOptionFragment"},"directives":[]}]}}]}}],"loc":{"start":0,"end":400}}')).__key=0xb1330475cd0f,Zt.definitions=Zt.definitions.concat(di(Xt.definitions)),Zt.definitions=Zt.definitions.concat(di(Qt.definitions)),($t=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"TourGradeFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_TourGrade"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"clusterId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"trackingKey"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"trackingTitle"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sectionType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"available"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"description"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"detailedPrice"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"totalPrice"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"webviewCheckout"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"addToCartUrl"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"checkoutUrl"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"addToCartPayload"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"rnplCheckoutUrl"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"startTimes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"TimedEntryOptionFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"rnplEligibility"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"RnplEligibilityFragment"},"directives":[]}]}}]}}],"loc":{"start":0,"end":666}}')).__key=0x5dbb6f3e6dde,$t.definitions=$t.definitions.concat(pi(Bt.definitions)),$t.definitions=$t.definitions.concat(pi(Jt.definitions)),$t.definitions=$t.definitions.concat(pi(Zt.definitions)),(en=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"TourGradesDetailFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_TourGradesDetail"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"clusterId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"trackingKey"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"trackingTitle"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"summary"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"LocalizedStringFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"tourGrades"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"TourGradeFragment"},"directives":[]}]}}]}}],"loc":{"start":0,"end":429}}')).__key=95884386187268,en.definitions=en.definitions.concat(gi(Wt.definitions)),en.definitions=en.definitions.concat(gi(Bt.definitions)),en.definitions=en.definitions.concat(gi($t.definitions)),(tn=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"AttractionCommerceWebResponseFragment"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_AttractionCommerceWebResponse"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"status"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"QueryStatusFragment"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"sections"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_PoiTickets"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"PoiTicketsFragment"},"directives":[]}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_TourGradesHeader"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"TourGradesHeaderFragment"},"directives":[]}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_TourGradesDetail"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"TourGradesDetailFragment"},"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"trackingKey"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"trackingTitle"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":655}}')).__key=0x77c2f12f23ae,tn.definitions=tn.definitions.concat(Ei(Ot.definitions)),tn.definitions=tn.definitions.concat(Ei(Ht.definitions)),tn.definitions=tn.definitions.concat(Ei(qt.definitions)),tn.definitions=tn.definitions.concat(Ei(en.definitions)),(nn=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"AttractionCommerceWebQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"request"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_AttractionCommerceWebRequestInput"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"commerce"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_CommerceParametersInput"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"currency"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"unitLength"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"AppPresentation_UnitLength"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"Result"},"name":{"kind":"Name","value":"AppPresentation_queryAttractionCommerceWeb"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"Variable","name":{"kind":"Name","value":"request"}}},{"kind":"Argument","name":{"kind":"Name","value":"commerce"},"value":{"kind":"Variable","name":{"kind":"Name","value":"commerce"}}},{"kind":"Argument","name":{"kind":"Name","value":"currency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"currency"}}},{"kind":"Argument","name":{"kind":"Name","value":"unitLength"},"value":{"kind":"Variable","name":{"kind":"Name","value":"unitLength"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"AttractionCommerceWebResponseFragment"},"directives":[]}]}}]}}],"loc":{"start":0,"end":522}}')).__key=0xaa7a12c4a2cd,nn.definitions=nn.definitions.concat(function(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!fi[t]&&(fi[t]=!0,!0)}))}(tn.definitions)),an=f(Pi,{memoize:!0}),ln=k(Fi),rn=f(hi,{memoize:!0}),on=f(Ri,{memoize:!0}),cn=k(Li),mn=k(Oi),sn=k(Gi),dn=k(Vi),un=k(ji),pn=k(Ui),vn=k(Yi),gn=k(Ki),kn=N(qi),En=N(el),fn=N(tl),_n=N(nl),yn=N(al),Sn=N(il),Nn=N(ll),bn=k(rl),Cn=k(ol),Pn=N(cl),Fn=k(dl),hn=k(ul),Tn=k(vl),An=k(gl),xn=k(kl),wn=k(El),Rn=k(fl),In=k(_l),Ln=k(Nl),On=k(bl),Bn=N(Cl),Dn=k(Pl),Mn=k(Fl),Wn=k(Tl),(zn=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"DeleteReview"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"removeReview"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"reviewId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"id"}}}],"directives":[]}]}}],"loc":{"start":0,"end":75}}')).__key=0x9c31a4f0698f,Gn=f(Al),Hn=f(xl),Vn=k(wl),jn=k(Ol),Un=f(Hl),Yn=k(Vl),Kn=k(jl),qn=k(Ul),Jn=k(Yl),Xn=f(Kl),Qn=N(ql),Zn=N(Jl),$n=f(Xl),ea=f(Ql),ta=f(Zl),na=f(er),aa=k(tr),ia=k(ar),la=f(ir),ra=k(lr),oa=k(or),ca=k(cr),ma=k(mr),sa=f(sr),da=f(dr),ua=f(ur),pa=f(pr),va=f(gr),ga=f(fr),ka=k(_r),Ea=N(yr),fa=f(br,{memoize:!0}),_a=f(Cr,{memoize:!0}),ya=[Lr,Br,Dr,Mr,Or],Sa=n.memo(Gr),Na=n.memo(Vr),ba=n.memo(Ur),Ca=f($r,{memoize:!0}),e("default",Ca),e({AboutTheOperatorSection:zr,AttractionProductItinerary:Pa,ClaimListingSection:pl,ImportantInformationWeb:Tt,PoiCommerceAttractionProductWeb:on,PoiCommerceAttractionWeb:rn,PoiCommerceHotelWeb:sn,PoiCommerceRestaurant:vn,PoiContribute:gn,PoiHealthSafetyWeb:bn,PoiHeroSectionWrapper:fa,PoiHoursWeb:hn,PoiImproveThisListing:Tn,PoiLocationWrapper:Ea,PoiMenu:xn,PoiOverviewWeb:wn,PoiReviewSnippetsWeb:In,PoiReviewsAndQAWeb:ga,PoiSpecialOffer:ka,StickyHeaderAboveTabContent:Sa,StickyHeaderCommerceContent:Hr})},[e=>(n=e,a=e.default,i=e.useContext,l=e.useEffect,r=e.useMemo,o=e.useCallback,c=e.useState,m=e.useReducer,s=e.useRef),e=>(d=e.useProductItineraryModel,u=e.useMDTProductItineraryModel),e=>p=e.default,e=>v=e.default,e=>(g=e.useTracking,k=e.FusionComponent,E=e.FusionTrackedLink,f=e.fused,_=e.APSUnsupportedType,y=e.useEntrypointContext,S=e.LoadingContext,N=e.fuse,b=e.CONTENT_TYPE_ATTRACTION,C=e.CONTENT_TYPE_ATTRACTION_PRODUCT),e=>(P=e.SaveAndShare,F=e.SeeAll),e=>(h=e.default,T=e.useSectionScrollContext,A=e.usePersistentCommerceContext,x=e.PersistentCommerceProvider,w=e.SectionScrollProvider),e=>(R=e.Device,I=e.Route),e=>L=e.default,e=>O=e.default,e=>(B=e.HighlightKeywords,D=e.EditorialWideCardsCarousel),e=>M=e.default,e=>W=e.default,e=>z=e.default,e=>G=e.default,e=>(H=e.defaultAlbumIds,V=e.defaultMediaSettings,j=e.pageMediaSettings,U=e.PoiHeroStandard),e=>(Y=e.PoiAboutWebMinimal,K=e.PoiAboutWeb),e=>q=e.default,e=>J=e.default,e=>X=e.default,e=>Q=e.default,e=>(Z=e.default,$=e.useLocalize,ee=e.useIntlFormatter),e=>te=e,e=>(ne=e.default,ae=e.BorderlessButton,ie=e.BorderlessButtonLink,le=e.CircularButton),e=>re=e.Modal,e=>oe=e.default,e=>(ce=e.default,me=e.LongTextListSubsection),e=>se=e.useModalWithTracking,e=>(de=e.default,ue=e.margin),e=>(pe=e.deriveLinkInfo,ve=e.deriveLinkInfoFromInternalLink,ge=e.deriveLinkInfoFromExternalLink,ke=e.deriveLinkInfoFromUpdateLink),e=>Ee=e.default,e=>fe=e.default,e=>(_e=e.LabelsList,ye=e.Label),e=>(Se=e.default,Ne=e.useAttractionDates,be=e.useAttractionPax,Ce=e.useSingleDatePicker,Pe=e.usePaxPicker),e=>Fe=e.Spinner,e=>(he=e.BubbleRatingWithReviewCount,Te=e.BubbleRatingWithLabel,Ae=e.BubbleRating),e=>xe=e.default,e=>(we=e.RadioButton,Re=e.RadioGroup),e=>(Ie=e.SingleSelectChipBar,Le=e.MultiSelectChipBar),e=>Oe=e.default,e=>Be=e.default,e=>De=e.default,e=>(Me=e.useQuery,We=e.useMutation),e=>ze=e.default,e=>Ge=e.default,e=>He=e.default,e=>Ve=e.DropdownMenu,e=>je=e.HotelCommerceParameters,e=>Ue=e.default,e=>Ye=e.default,e=>Ke=e.CdnImage,e=>qe=e.ClaimListing,e=>Je=e.JsonLd,e=>Xe=e.default,e=>Qe=e.default,e=>Ze=e.getImageSource,e=>($e=e.TabBar,et=e.Tab),e=>tt=e.default,e=>nt=e.default,e=>at=e.getRouteFromPath,e=>it=e.default,e=>lt=e.useLikeAction,e=>(rt=e.default,ot=e.useReportManagementResponseModal),e=>ct=e.useVDOMPortal,e=>(mt=e.Toast,st=e.ToastItem),e=>dt=e.default,e=>ut=e.default,e=>pt=e.default,e=>vt=e.default,e=>gt=e.default,e=>kt=e.useDebouncedCallback,e=>Et=e.default,e=>ft=e.ChipButton,e=>_t=e.Tooltip,e=>yt=e.useKeyboardFocusableClassName,e=>St=e.default,e=>Nt=e.useMapEntrypoint,e=>bt=e.default,e=>Ct=e.default]]},["cDcdfi","f98D2q","jSLlaY","OC9u-G","PEYes_","lXDLoI","y0vVff","2R4xv2","iYinSZ","5cAs8Q","3xStiR","OuA73x","WiF27t","B6c6hP","o5Dz9d","WbbZa5","e0xjmP","FU709t","EG0U_z","27N9k1","VP50Wc","0DsHEV","pLbCP4","7yGKf-","E1X9WP","XNYdwH","_RS5YN","4w1BVK","iekllc","1O47Wa","McEGSJ","5KqyYa","JPPGNj","CTabsQ","Ly5eaD","MBK0so","jPSRY1","MsxLpS","LGvznu","pyY-iJ","U4FDTr","YwNsO_","5X2em-","vWxBAe","DCBGY9","kTE9EF","MCrJhI","GT-7ag","hSRje1","5ksP3L","4kVXmt","ilmNty","nPqO2d","PAGJjn","g7DBrU","W9678C","1Oxbni","glH5KG","FBPJzn","F8raOV","q2rZ-U","zYzOYH","IxKOOk","vq6MSq","Q7TAd7","mv7yXI","511DFe","BgJkqv","XYs9im","_azji4","gsKhh7","fZR2pj","QLckY2","p2zxVY","W3_c4H","mUW0_y","FWgbXE","pEsgbX","QZqymc"]]);
